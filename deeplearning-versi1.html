<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mesin Penyusun Modul Ajar AI - Edisi Guru Inovasi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
        }
        .card-shadow {
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
        }
        .loading {
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .fade-in {
            animation: fadeIn 0.8s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(40px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.05); }
        }
        .slide-up {
            animation: slideUp 0.6s ease-out;
        }
        @keyframes slideUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .progress-bar {
            transition: width 0.5s ease;
        }
        .floating-action {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
        }
        .tooltip {
            position: relative;
        }
        .tooltip:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 120%;
            left: 50%;
            transform: translateX(-50%);
            background: #1f2937;
            color: white;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 12px;
            white-space: nowrap;
            z-index: 1000;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .tooltip:hover::before {
            content: '';
            position: absolute;
            bottom: 110%;
            left: 50%;
            transform: translateX(-50%);
            border: 5px solid transparent;
            border-top-color: #1f2937;
            z-index: 1000;
        }
        .step-indicator {
            transition: all 0.4s ease;
        }
        .step-active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: scale(1.05);
        }
        .step-completed {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }
        .glassmorphism {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        .neon-glow {
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.5);
        }
        .typing-animation {
            overflow: hidden;
            border-right: 2px solid #667eea;
            white-space: nowrap;
            animation: typing 3s steps(40, end), blink-caret 0.75s step-end infinite;
        }
        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }
        @keyframes blink-caret {
            from, to { border-color: transparent; }
            50% { border-color: #667eea; }
        }
        .particle-bg {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        .advanced-card {
            background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
            border: 1px solid rgba(0,0,0,0.05);
        }
        .feature-highlight {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-left: 4px solid #f59e0b;
        }
        .ai-processing {
            background: linear-gradient(45deg, #667eea, #764ba2, #f093fb, #667eea);
            background-size: 400% 400%;
            animation: gradientShift 3s ease infinite;
        }
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .smart-input {
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        .smart-input:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            transform: translateY(-2px);
        }
        .completion-indicator {
            position: absolute;
            top: -5px;
            right: -5px;
            width: 20px;
            height: 20px;
            background: #10b981;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: bold;
            opacity: 0;
            transform: scale(0);
            transition: all 0.3s ease;
        }
        .completion-indicator.show {
            opacity: 1;
            transform: scale(1);
        }
        .smart-suggestion {
            background: linear-gradient(135deg, #e0f2fe 0%, #b3e5fc 100%);
            border: 1px solid #0288d1;
            border-radius: 8px;
            padding: 8px 12px;
            margin: 4px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: inline-block;
            font-size: 12px;
        }
        .smart-suggestion:hover {
            background: linear-gradient(135deg, #0288d1 0%, #0277bd 100%);
            color: white;
            transform: translateY(-2px);
        }
        .version-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 14px;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
            z-index: 10;
        }
        .revolutionary-feature {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
            border: 2px solid #ff6b9d;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
        }
        .revolutionary-feature::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: rotate(45deg);
            animation: shine 3s infinite;
        }
        @keyframes shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .ai-brain {
            background: radial-gradient(circle, #667eea 0%, #764ba2 70%);
            border-radius: 50%;
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            margin: 0 auto 20px;
            animation: brainPulse 2s ease-in-out infinite;
        }
        @keyframes brainPulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 20px rgba(102, 126, 234, 0.3); }
            50% { transform: scale(1.1); box-shadow: 0 0 30px rgba(102, 126, 234, 0.6); }
        }
        .stats-counter {
            font-size: 2.5rem;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .advanced-toggle {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }
        .advanced-toggle input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #ccc;
            transition: 0.4s;
            border-radius: 34px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background: white;
            transition: 0.4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        input:checked + .slider:before {
            transform: translateX(26px);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-full">
    <div class="min-h-full">
        <!-- Version Badge -->
        <div class="version-badge">
            Edisi Inovasi Guru - Ian Dwi Putera, S.Pd
        </div>

        <!-- Header Revolutionary -->
        <header class="gradient-bg text-white py-12 relative overflow-hidden">
            <div class="particle-bg">
                <div class="particle" style="left: 10%; animation-delay: 0s; width: 10px; height: 10px;"></div>
                <div class="particle" style="left: 20%; animation-delay: 1s; width: 15px; height: 15px;"></div>
                <div class="particle" style="left: 30%; animation-delay: 2s; width: 8px; height: 8px;"></div>
                <div class="particle" style="left: 40%; animation-delay: 0.5s; width: 12px; height: 12px;"></div>
                <div class="particle" style="left: 50%; animation-delay: 1.5s; width: 18px; height: 18px;"></div>
                <div class="particle" style="left: 60%; animation-delay: 2.5s; width: 10px; height: 10px;"></div>
                <div class="particle" style="left: 70%; animation-delay: 0.8s; width: 14px; height: 14px;"></div>
                <div class="particle" style="left: 80%; animation-delay: 1.8s; width: 16px; height: 16px;"></div>
                <div class="particle" style="left: 90%; animation-delay: 2.2s; width: 11px; height: 11px;"></div>
            </div>
            <div class="absolute inset-0 bg-black opacity-20"></div>
            <div class="max-w-7xl mx-auto px-4 relative z-10">
                <div class="text-center">
                    <div class="ai-brain mb-10">üß†</div>
                    <h1 class="text-4xl font-bold mb-2 typing-animation">PENYUSUN MODUL AJAR BERBASIS KECERDASAN BUATAN</h1>
                    <p class="text-1xl text-blue-100 mb-2">Dashboard ini dirancang dengan Ai - Edisi Inovasi Guru - Ian Dwi Putera, S.Pd </p>
                    
                    <!-- Revolutionary Features Highlight -->
                    <div class="revolutionary-feature glassmorphism max-w-4xl mx-auto mb-8">
                        <h3 class="text-4xl font-bold mb-4 text-white">EDISI INOVASI GURU</h3>
                        <div class="grid md:grid-cols-3 gap-6">
                            <div class="text-center">
                                <div class="text-4xl mb-2">ü§ñ</div>
                                <h4 class="font-bold text-lg text-white mb-2">AI Super Intelligence</h4>
                                <p class="text-purple-500 text-sm">Analisis mendalam dengan 50+ parameter pembelajaran</p>
                            </div>
                            <div class="text-center">
                                <div class="text-4xl mb-2">‚ö°</div>
                                <h4 class="font-bold text-lg text-white mb-2">Smart Auto-Complete</h4>
                                <p class="text-purple-600 text-sm">Saran cerdas real-time saat mengisi form</p>
                            </div>
                            <div class="text-center">
                                <div class="text-4xl mb-2">üéØ</div>
                                <h4 class="font-bold text-lg text-white mb-2">Adaptive Learning</h4>
                                <p class="text-purple-600 text-sm">Menyesuaikan dengan gaya mengajar Anda</p>
                            </div>
                        </div>
                    </div>

                    <div class="flex justify-center space-x-8 text-sm flex-wrap">
                        <div class="flex items-center glassmorphism px-4 py-2 rounded-full mb-2">
                            <span class="text-green-300 mr-2 text-lg">‚úì</span>
                            <span>Kurikulum Merdeka 2024</span>
                        </div>
                        <div class="flex items-center glassmorphism px-4 py-2 rounded-full mb-2">
                            <span class="text-green-300 mr-2 text-lg">‚úì</span>
                            <span>AI ChatGPT-4 Advanced</span>
                        </div>
                        <div class="flex items-center glassmorphism px-4 py-2 rounded-full mb-2">
                            <span class="text-green-300 mr-2 text-lg">‚úì</span>
                            <span>Deep Learning Neural Network</span>
                        </div>
                        <div class="flex items-center glassmorphism px-4 py-2 rounded-full mb-2">
                            <span class="text-green-300 mr-2 text-lg">‚úì</span>
                            <span>Export 10+ Format</span>
                        </div>
                        <div class="flex items-center glassmorphism px-4 py-2 rounded-full mb-2">
                            <span class="text-green-300 mr-2 text-lg">‚úì</span>
                            <span>Smart Suggestions</span>
                        </div>
                    
        </header>

        <!-- Advanced Progress Indicator -->
        <div class="bg-white shadow-lg py-6">
            <div class="max-w-7xl mx-auto px-4">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center space-x-6">
                        <div class="step-indicator step-active px-6 py-3 rounded-full text-sm font-bold flex items-center">
                            <span class="mr-2">üéØ</span>
                            1. Input Data Cerdas
                        </div>
                        <div class="w-12 h-1 bg-gradient-to-r from-blue-300 to-purple-300 rounded"></div>
                        <div class="step-indicator px-6 py-3 rounded-full text-sm font-bold bg-gray-200 text-gray-600 flex items-center">
                            <span class="mr-2">ü§ñ</span>
                            2. AI Super Processing
                        </div>
                        <div class="w-12 h-1 bg-gray-300 rounded"></div>
                        <div class="step-indicator px-6 py-3 rounded-full text-sm font-bold bg-gray-200 text-gray-600 flex items-center">
                            <span class="mr-2">üéâ</span>
                            3. Hasil & Export Pro
                        </div>
                    </div>
                    <div class="text-sm text-gray-600 flex items-center">
                        <span class="mr-2">üî•</span>
                        <span id="progressText">Mulai dengan form cerdas di bawah</span>
                    </div>
                </div>
                <div class="relative">
                    <div class="w-full bg-gray-200 rounded-full h-3">
                        <div id="progressBar" class="progress-bar bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 h-3 rounded-full neon-glow" style="width: 0%"></div>
                    </div>
                    <div class="absolute top-0 left-0 w-full h-3 bg-gradient-to-r from-transparent via-white to-transparent opacity-30 rounded-full animate-pulse"></div>
                </div>
            </div>
        </div>

        <main class="max-w-7xl mx-auto px-4 py-8">
            <div class="grid lg:grid-cols-2 gap-8">
                <!-- Advanced Form Input -->
                <div class="advanced-card rounded-2xl card-shadow p-8 relative">
                    <div class="absolute top-4 right-4">
                        <div class="flex items-center space-x-2">
                            <span class="text-sm text-gray-600">Mode Cerdas</span>
                            <label class="advanced-toggle">
                                <input type="checkbox" id="smartMode" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>

                    <div class="flex items-center justify-between mb-8">
                        <h2 class="text-3xl font-bold text-gray-800 flex items-center">
                            <span class="bg-gradient-to-r from-blue-500 to-purple-500 text-white p-4 rounded-xl mr-4 text-xl">üìù</span>
                            Form Input Super Cerdas
                        </h2>
                        <div class="flex space-x-2">
                            <button id="autoFillBtn" class="tooltip bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white px-6 py-3 rounded-xl text-sm font-bold transition duration-300 neon-glow" data-tooltip="Isi otomatis dengan AI">
                                <span class="mr-2">‚ö°</span>AI Auto Fill
                            </button>
                            <button id="saveTemplateBtn" class="tooltip bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-6 py-3 rounded-xl text-sm font-bold transition duration-300" data-tooltip="Simpan sebagai template">
                                <span class="mr-2">üíæ</span>Save Template
                            </button>
                        </div>
                    </div>
                    
                    <form id="modulForm" class="space-y-8">
                        <!-- Section 1: Identitas Dasar dengan Smart Suggestions -->
                        <div class="feature-highlight p-6 rounded-xl relative">
                            <div class="completion-indicator" id="section1Complete">‚úì</div>
                            <h3 class="font-bold text-gray-800 mb-6 flex items-center text-xl">
                                <span class="bg-blue-500 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3">1</span>
                                Identitas Dasar - Smart Input
                            </h3>
                            
                            <div class="grid md:grid-cols-2 gap-6">
                                <div class="relative">
                                    <label for="penyusun" class="block text-sm font-bold text-gray-700 mb-3">Penyusun *</label>
                                    <input type="text" id="penyusun" class="smart-input w-full px-4 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-300" placeholder="Nama lengkap guru penyusun" required>
                                    <div id="penyusunSuggestions" class="mt-2 hidden"></div>
                                </div>
                                <div class="relative">
                                    <label for="satuan" class="block text-sm font-bold text-gray-700 mb-3">Satuan Pendidikan *</label>
                                    <input type="text" id="satuan" class="smart-input w-full px-4 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-300" placeholder="Nama sekolah lengkap" required>
                                    <div id="satuanSuggestions" class="mt-2">
                                        <div class="smart-suggestion" onclick="fillSuggestion('satuan', 'SMP Negeri 2 Banawa')">SMP Negeri 2 Banawa</div>
                                    </div>
                                </div>
                            </div>

                            <div class="grid md:grid-cols-3 gap-6 mt-6">
                                <div>
                                    <label for="tahun" class="block text-sm font-bold text-gray-700 mb-3">Tahun Pelajaran *</label>
                                    <select id="tahun" class="smart-input w-full px-4 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-300" required>
                                        <option value="">Pilih Tahun Pelajaran</option>
                                        <option value="2025/2026" selected>2025/2026</option>
                                        <option value="2027/2028">2027/2028</option>
                                        <option value="2029/2030">2029/2030</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="semester" class="block text-sm font-bold text-gray-700 mb-3">Semester *</label>
                                    <select id="semester" class="smart-input w-full px-4 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-300" required>
                                        <option value="">Pilih Semester</option>
                                        <option value="1">Semester 1 (Ganjil)</option>
                                        <option value="2">Semester 2 (Genap)</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="kelas" class="block text-sm font-bold text-gray-700 mb-3">Kelas/Fase *</label>
                                    <select id="kelas" class="smart-input w-full px-4 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-300" required>
                                        <option value="">Pilih Kelas/Fase</option>
                                        <option value="X / Fase E">X / Fase E</option>
                                        <option value="XI / Fase F">XI / Fase F</option>
                                        <option value="XII / Fase F">XII / Fase F</option>
                                        <option value="VII / Fase D">VII / Fase D</option>
                                        <option value="VIII / Fase D">VIII / Fase D</option>
                                        <option value="IX / Fase D">IX / Fase D</option>
                                        <option value="I / Fase A">I / Fase A</option>
                                        <option value="II / Fase A">II / Fase A</option>
                                        <option value="III / Fase B">III / Fase B</option>
                                        <option value="IV / Fase B">IV / Fase B</option>
                                        <option value="V / Fase C">V / Fase C</option>
                                        <option value="VI / Fase C">VI / Fase C</option>
                                    </select>
                                </div>
                            </div>

                            <div class="grid md:grid-cols-2 gap-6 mt-6">
                                <div class="relative">
                                    <label for="mapel" class="block text-sm font-bold text-gray-700 mb-3">Mata Pelajaran *</label>
                                    <input type="text" id="mapel" class="smart-input w-full px-4 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-300" placeholder="Nama mata pelajaran" required>
                                   
                                </div>
                                <div class="relative">
                                    <label for="topik" class="block text-sm font-bold text-gray-700 mb-3">Topik/Elemen *</label>
                                    <input type="text" id="topik" class="smart-input w-full px-4 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-300" placeholder="Topik pembelajaran spesifik" required>
                                    <div id="topikSuggestions" class="mt-2"></div>
                                </div>
                            </div>

                            <div class="mt-6">
                                <label for="alokasi" class="block text-sm font-bold text-gray-700 mb-3">Alokasi Waktu *</label>
                                <select id="alokasi" class="smart-input w-full px-4 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-300" required>
                                    <option value="">Pilih Alokasi Waktu</option>
                                    <option value="1 x 45 menit">1 x 45 menit</option>
                                    <option value="2 x 45 menit">2 x 45 menit</option>
                                    <option value="3 x 45 menit">3 x 45 menit</option>
                                    <option value="4 x 45 menit">4 x 45 menit</option>
                                    <option value="1 x 40 menit">1 x 40 menit</option>
                                    <option value="2 x 40 menit">2 x 40 menit</option>
                                    <option value="3 x 40 menit">3 x 40 menit</option>
                                    <option value="4 x 40 menit">4 x 40 menit</option>
                                </select>
                            </div>
                        </div>

                        <!-- Section 2: Capaian dan Tujuan dengan AI Assistant -->
                        <div class="bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-xl border-2 border-green-200 relative">
                            <div class="completion-indicator" id="section2Complete">‚úì</div>
                            <h3 class="font-bold text-gray-800 mb-6 flex items-center text-xl">
                                <span class="bg-green-500 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3">2</span>
                                Capaian dan Tujuan - AI Assistant
                            </h3>
                            
                            <div class="space-y-6">
                                <div class="relative">
                                    <label for="capaian" class="block text-sm font-bold text-gray-700 mb-3">Capaian Pembelajaran *</label>
                                    <textarea id="capaian" rows="5" class="smart-input w-full px-4 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-300" placeholder="Peserta didik mampu memahami dan menerapkan konsep..." required></textarea>
                                    <button type="button" id="generateCapaian" class="absolute top-2 right-2 bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded-lg text-xs font-bold transition duration-300">
                                        ü§ñ AI Generate
                                    </button>
                                </div>

                                <div class="relative">
                                    <label for="tujuan" class="block text-sm font-bold text-gray-700 mb-3">Tujuan Pembelajaran *</label>
                                    <textarea id="tujuan" rows="5" class="smart-input w-full px-4 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-300" placeholder="Setelah mengikuti pembelajaran, peserta didik dapat..." required></textarea>
                                    <button type="button" id="generateTujuan" class="absolute top-2 right-2 bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded-lg text-xs font-bold transition duration-300">
                                        ü§ñ AI Generate
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Section 3: Dimensi Profil Lulusan Enhanced -->
                        <div class="bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-xl border-2 border-purple-200 relative">
                            <div class="completion-indicator" id="section3Complete">‚úì</div>
                            <h3 class="font-bold text-gray-800 mb-6 flex items-center text-xl">
                                <span class="bg-purple-500 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3">3</span>
                                Dimensi Profil Pelajar Pancasila
                            </h3>
                            
                            <div class="grid md:grid-cols-2 gap-4">
                                <label class="flex items-start space-x-4 p-4 rounded-xl hover:bg-white transition duration-300 cursor-pointer border-2 border-transparent hover:border-purple-200">
                                    <input type="checkbox" name="dimensi" value="keimanan" class="rounded text-purple-600 w-6 h-6 mt-1">
                                    <div class="flex-1">
                                        <span class="font-bold text-gray-800 text-lg">üôè Keimanan dan Ketakwaan</span>
                                        <p class="text-sm text-gray-600 mt-1">Beriman dan bertakwa kepada Tuhan Yang Maha Esa serta berakhlak mulia</p>
                                        <div class="mt-2 text-xs text-purple-600 bg-purple-100 px-2 py-1 rounded-full inline-block">Spiritual</div>
                                    </div>
                                </label>
                                
                                <label class="flex items-start space-x-4 p-4 rounded-xl hover:bg-white transition duration-300 cursor-pointer border-2 border-transparent hover:border-purple-200">
                                    <input type="checkbox" name="dimensi" value="kewargaan" class="rounded text-purple-600 w-6 h-6 mt-1">
                                    <div class="flex-1">
                                        <span class="font-bold text-gray-800 text-lg">üåç Berkebinekaan Global</span>
                                        <p class="text-sm text-gray-600 mt-1">Menghargai keberagaman budaya, agama, dan kepercayaan</p>
                                        <div class="mt-2 text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded-full inline-block">Sosial</div>
                                    </div>
                                </label>
                                
                                <label class="flex items-start space-x-4 p-4 rounded-xl hover:bg-white transition duration-300 cursor-pointer border-2 border-transparent hover:border-purple-200">
                                    <input type="checkbox" name="dimensi" value="penalaran" class="rounded text-purple-600 w-6 h-6 mt-1">
                                    <div class="flex-1">
                                        <span class="font-bold text-gray-800 text-lg">üß† Bernalar Kritis</span>
                                        <p class="text-sm text-gray-600 mt-1">Berpikir kritis, kreatif, dan inovatif dalam memecahkan masalah</p>
                                        <div class="mt-2 text-xs text-green-600 bg-green-100 px-2 py-1 rounded-full inline-block">Kognitif</div>
                                    </div>
                                </label>
                                
                                <label class="flex items-start space-x-4 p-4 rounded-xl hover:bg-white transition duration-300 cursor-pointer border-2 border-transparent hover:border-purple-200">
                                    <input type="checkbox" name="dimensi" value="kreativitas" class="rounded text-purple-600 w-6 h-6 mt-1">
                                    <div class="flex-1">
                                        <span class="font-bold text-gray-800 text-lg">üé® Kreatif</span>
                                        <p class="text-sm text-gray-600 mt-1">Menghasilkan karya dan gagasan yang original dan bermakna</p>
                                        <div class="mt-2 text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded-full inline-block">Kreatif</div>
                                    </div>
                                </label>
                                
                                <label class="flex items-start space-x-4 p-4 rounded-xl hover:bg-white transition duration-300 cursor-pointer border-2 border-transparent hover:border-purple-200">
                                    <input type="checkbox" name="dimensi" value="kolaborasi" class="rounded text-purple-600 w-6 h-6 mt-1">
                                    <div class="flex-1">
                                        <span class="font-bold text-gray-800 text-lg">ü§ù Bergotong Royong</span>
                                        <p class="text-sm text-gray-600 mt-1">Bekerja sama dan saling membantu untuk kepentingan bersama</p>
                                        <div class="mt-2 text-xs text-red-600 bg-red-100 px-2 py-1 rounded-full inline-block">Kolaboratif</div>
                                    </div>
                                </label>
                                
                                <label class="flex items-start space-x-4 p-4 rounded-xl hover:bg-white transition duration-300 cursor-pointer border-2 border-transparent hover:border-purple-200">
                                    <input type="checkbox" name="dimensi" value="kemandirian" class="rounded text-purple-600 w-6 h-6 mt-1">
                                    <div class="flex-1">
                                        <span class="font-bold text-gray-800 text-lg">üí™ Mandiri</span>
                                        <p class="text-sm text-gray-600 mt-1">Bertanggung jawab atas diri sendiri dan lingkungan</p>
                                        <div class="mt-2 text-xs text-indigo-600 bg-indigo-100 px-2 py-1 rounded-full inline-block">Personal</div>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <!-- Section 4: Model dan Pendekatan Advanced -->
                        <div class="bg-gradient-to-r from-orange-50 to-yellow-50 p-6 rounded-xl border-2 border-orange-200 relative">
                            <div class="completion-indicator" id="section4Complete">‚úì</div>
                            <h3 class="font-bold text-gray-800 mb-6 flex items-center text-xl">
                                <span class="bg-orange-500 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3">4</span>
                                Model dan Pendekatan Pembelajaran
                            </h3>
                            
                            <div class="grid md:grid-cols-2 gap-6">
                                <div>
                                    <label for="model" class="block text-sm font-bold text-gray-700 mb-3">Model Pembelajaran *</label>
                                    <select id="model" class="smart-input w-full px-4 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-300" required>
                                        <option value="">Pilih Model Pembelajaran</option>
                                        <optgroup label="üéØ Model Populer">
                                            <option value="Problem Based Learning">Problem Based Learning (PBL)</option>
                                            <option value="Project Based Learning">Project Based Learning</option>
                                            <option value="Discovery Learning">Discovery Learning</option>
                                            <option value="Inquiry Learning">Inquiry Learning</option>
                                        </optgroup>
                                        <optgroup label="ü§ù Model Kolaboratif">
                                            <option value="Cooperative Learning">Cooperative Learning</option>
                                            <option value="Collaborative Learning">Collaborative Learning</option>
                                            <option value="Peer Learning">Peer Learning</option>
                                        </optgroup>
                                        <optgroup label="üíª Model Digital">
                                            <option value="Blended Learning">Blended Learning</option>
                                            <option value="Flipped Classroom">Flipped Classroom</option>
                                            <option value="Online Learning">Online Learning</option>
                                        </optgroup>
                                        <optgroup label="üî¨ Model Inovatif">
                                            <option value="STEAM">STEAM</option>
                                            <option value="Design Thinking">Design Thinking</option>
                                            <option value="Gamification">Gamification</option>
                                        </optgroup>
                                    </select>
                                </div>
                                <div>
                                    <label for="pendekatan" class="block text-sm font-bold text-gray-700 mb-3">Pendekatan Pembelajaran *</label>
                                    <select id="pendekatan" class="smart-input w-full px-4 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-300" required>
                                        <option value="">Pilih Pendekatan Pembelajaran</option>
                                        <optgroup label="üß† Pendekatan Kognitif">
                                            <option value="Deep Learning">Deep Learning</option>
                                            <option value="Meaningful Learning">Meaningful Learning</option>
                                            <option value="Constructivist Approach">Constructivist Approach</option>
                                        </optgroup>
                                        <optgroup label="‚ù§Ô∏è Pendekatan Afektif">
                                            <option value="Joyful Learning">Joyful Learning</option>
                                            <option value="Mindful Learning">Mindful Learning</option>
                                            <option value="Emotional Learning">Emotional Learning</option>
                                        </optgroup>
                                        <optgroup label="üî¨ Pendekatan Saintifik">
                                            <option value="Scientific Approach">Scientific Approach</option>
                                            <option value="Evidence-Based Learning">Evidence-Based Learning</option>
                                            <option value="Research-Based Learning">Research-Based Learning</option>
                                        </optgroup>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Section 5: Strategi Diferensiasi Advanced -->
                        <div class="bg-gradient-to-r from-red-50 to-pink-50 p-6 rounded-xl border-2 border-red-200 relative">
                            <div class="completion-indicator" id="section5Complete">‚úì</div>
                            <h3 class="font-bold text-gray-800 mb-6 flex items-center text-xl">
                                <span class="bg-red-500 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3">5</span>
                                Strategi Pembelajaran Berdiferensiasi
                            </h3>
                            
                            <div class="grid md:grid-cols-3 gap-6">
                                <div class="bg-white p-6 rounded-xl border-2 border-blue-200 hover:border-blue-400 transition duration-300">
                                    <h6 class="font-bold text-blue-800 mb-4 text-center text-lg">üìö Diferensiasi Konten</h6>
                                    <div class="space-y-3">
                                        <label class="flex items-center space-x-3 cursor-pointer hover:bg-blue-50 p-2 rounded-lg transition duration-300">
                                            <input type="checkbox" name="diferensiasi_konten" value="tingkat_kesulitan" class="rounded text-blue-600 w-5 h-5">
                                            <span class="text-sm font-medium">Tingkat kesulitan bertingkat</span>
                                        </label>
                                        <label class="flex items-center space-x-3 cursor-pointer hover:bg-blue-50 p-2 rounded-lg transition duration-300">
                                            <input type="checkbox" name="diferensiasi_konten" value="gaya_belajar" class="rounded text-blue-600 w-5 h-5">
                                            <span class="text-sm font-medium">Sesuai gaya belajar</span>
                                        </label>
                                        <label class="flex items-center space-x-3 cursor-pointer hover:bg-blue-50 p-2 rounded-lg transition duration-300">
                                            <input type="checkbox" name="diferensiasi_konten" value="minat_siswa" class="rounded text-blue-600 w-5 h-5">
                                            <span class="text-sm font-medium">Berdasarkan minat siswa</span>
                                        </label>
                                        <label class="flex items-center space-x-3 cursor-pointer hover:bg-blue-50 p-2 rounded-lg transition duration-300">
                                            <input type="checkbox" name="diferensiasi_konten" value="kecerdasan_majemuk" class="rounded text-blue-600 w-5 h-5">
                                            <span class="text-sm font-medium">Kecerdasan majemuk</span>
                                        </label>
                                    </div>
                                </div>
                                
                                <div class="bg-white p-6 rounded-xl border-2 border-green-200 hover:border-green-400 transition duration-300">
                                    <h6 class="font-bold text-green-800 mb-4 text-center text-lg">‚öôÔ∏è Diferensiasi Proses</h6>
                                    <div class="space-y-3">
                                        <label class="flex items-center space-x-3 cursor-pointer hover:bg-green-50 p-2 rounded-lg transition duration-300">
                                            <input type="checkbox" name="diferensiasi_proses" value="kelompok_fleksibel" class="rounded text-green-600 w-5 h-5">
                                            <span class="text-sm font-medium">Kelompok fleksibel</span>
                                        </label>
                                        <label class="flex items-center space-x-3 cursor-pointer hover:bg-green-50 p-2 rounded-lg transition duration-300">
                                            <input type="checkbox" name="diferensiasi_proses" value="scaffolding" class="rounded text-green-600 w-5 h-5">
                                            <span class="text-sm font-medium">Scaffolding bertingkat</span>
                                        </label>
                                        <label class="flex items-center space-x-3 cursor-pointer hover:bg-green-50 p-2 rounded-lg transition duration-300">
                                            <input type="checkbox" name="diferensiasi_proses" value="waktu_belajar" class="rounded text-green-600 w-5 h-5">
                                            <span class="text-sm font-medium">Waktu belajar fleksibel</span>
                                        </label>
                                        <label class="flex items-center space-x-3 cursor-pointer hover:bg-green-50 p-2 rounded-lg transition duration-300">
                                            <input type="checkbox" name="diferensiasi_proses" value="mentoring" class="rounded text-green-600 w-5 h-5">
                                            <span class="text-sm font-medium">Peer mentoring</span>
                                        </label>
                                    </div>
                                </div>
                                
                                <div class="bg-white p-6 rounded-xl border-2 border-purple-200 hover:border-purple-400 transition duration-300">
                                    <h6 class="font-bold text-purple-800 mb-4 text-center text-lg">üéØ Diferensiasi Produk</h6>
                                    <div class="space-y-3">
                                        <label class="flex items-center space-x-3 cursor-pointer hover:bg-purple-50 p-2 rounded-lg transition duration-300">
                                            <input type="checkbox" name="diferensiasi_produk" value="pilihan_tugas" class="rounded text-purple-600 w-5 h-5">
                                            <span class="text-sm font-medium">Pilihan tugas beragam</span>
                                        </label>
                                        <label class="flex items-center space-x-3 cursor-pointer hover:bg-purple-50 p-2 rounded-lg transition duration-300">
                                            <input type="checkbox" name="diferensiasi_produk" value="format_presentasi" class="rounded text-purple-600 w-5 h-5">
                                            <span class="text-sm font-medium">Format presentasi variatif</span>
                                        </label>
                                        <label class="flex items-center space-x-3 cursor-pointer hover:bg-purple-50 p-2 rounded-lg transition duration-300">
                                            <input type="checkbox" name="diferensiasi_produk" value="rubrik_fleksibel" class="rounded text-purple-600 w-5 h-5">
                                            <span class="text-sm font-medium">Rubrik penilaian fleksibel</span>
                                        </label>
                                        <label class="flex items-center space-x-3 cursor-pointer hover:bg-purple-50 p-2 rounded-lg transition duration-300">
                                            <input type="checkbox" name="diferensiasi_produk" value="portfolio_digital" class="rounded text-purple-600 w-5 h-5">
                                            <span class="text-sm font-medium">Portfolio digital</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Section 6: Sumber Daya Enhanced -->
                        <div class="bg-gradient-to-r from-teal-50 to-cyan-50 p-6 rounded-xl border-2 border-teal-200 relative">
                            <div class="completion-indicator" id="section6Complete">‚úì</div>
                            <h3 class="font-bold text-gray-800 mb-6 flex items-center text-xl">
                                <span class="bg-teal-500 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3">6</span>
                                Sumber Daya Pembelajaran
                            </h3>
                            
                            <div class="space-y-6">
                                <div>
                                    <label for="sarana" class="block text-sm font-bold text-gray-700 mb-3">Sarana dan Prasarana</label>
                                    <textarea id="sarana" rows="3" class="smart-input w-full px-4 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-300" placeholder="Laptop, proyektor, papan tulis, buku paket..."></textarea>
                                    <div class="mt-2">
                                        <div class="smart-suggestion" onclick="fillSuggestion('sarana', 'Laptop, proyektor, papan tulis, spidol, penggaris, kalkulator, buku paket')">üì± Sarana Digital Standar</div>
                                        <div class="smart-suggestion" onclick="fillSuggestion('sarana', 'Papan tulis, spidol, buku paket, lembar kerja, alat peraga')">üìö Sarana Konvensional</div>
                                        <div class="smart-suggestion" onclick="fillSuggestion('sarana', 'Laboratorium komputer, internet, software pembelajaran, tablet')">üíª Sarana Lab Komputer</div>
                                    </div>
                                </div>

                                <div>
                                    <label for="sumber" class="block text-sm font-bold text-gray-700 mb-3">Sumber Belajar</label>
                                    <textarea id="sumber" rows="3" class="smart-input w-full px-4 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-300" placeholder="Buku paket, internet, video pembelajaran..."></textarea>
                                    <div class="mt-2">
                                        <div class="smart-suggestion" onclick="fillSuggestion('sumber', 'Buku paket, video YouTube, artikel online, jurnal penelitian')">üåê Sumber Digital</div>
                                        <div class="smart-suggestion" onclick="fillSuggestion('sumber', 'Buku paket, LKS, modul, ensiklopedia, koran')">üìñ Sumber Cetak</div>
                                        <div class="smart-suggestion" onclick="fillSuggestion('sumber', 'Narasumber ahli, kunjungan lapangan, wawancara')">üë• Sumber Manusia</div>
                                    </div>
                                </div>

                                <div>
                                    <label for="digital" class="block text-sm font-bold text-gray-700 mb-3">Pemanfaatan Platform Digital</label>
                                    <textarea id="digital" rows="3" class="smart-input w-full px-4 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-300" placeholder="Google Classroom, Kahoot, Canva, YouTube, Padlet, Mentimeter, dll..."></textarea>
                                    <div class="mt-2">
                                        <div class="smart-suggestion" onclick="fillSuggestion('digital', 'Google Classroom, Kahoot, Padlet, YouTube, Canva')">üéì Platform Pendidikan</div>
                                        <div class="smart-suggestion" onclick="fillSuggestion('digital', 'Zoom, Google Meet, WhatsApp Group, Telegram')">üí¨ Platform Komunikasi</div>
                                        <div class="smart-suggestion" onclick="fillSuggestion('digital', 'Mentimeter, Slido, Quizizz, Wordwall, Flipgrid')">üéÆ Platform Interaktif</div>
                                    </div>
                                    <p class="text-xs text-gray-500 mt-2">üí° Isi jika menggunakan platform digital, aplikasi, atau media online dalam pembelajaran</p>
                                </div>

                                <div>
                                    <label for="lintas" class="block text-sm font-bold text-gray-700 mb-3">Lintas Bidang Disiplin Ilmu</label>
                                    <input type="text" id="lintas" class="smart-input w-full px-4 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-300" placeholder="Fisika, Ekonomi, Seni, Sejarah...">
                                    <div class="mt-2">
                                        <div class="smart-suggestion" onclick="fillSuggestion('lintas', 'Fisika, Kimia, Biologi')">üî¨ MIPA</div>
                                        <div class="smart-suggestion" onclick="fillSuggestion('lintas', 'Sejarah, Geografi, Ekonomi')">üåç IPS</div>
                                        <div class="smart-suggestion" onclick="fillSuggestion('lintas', 'Seni, Bahasa, Sastra')">üé® Humaniora</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Advanced Submit Button -->
                        <div class="pt-8">
                            <button type="submit" class="w-full bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white py-6 px-8 rounded-2xl font-bold text-xl hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 transition duration-300 flex items-center justify-center shadow-2xl neon-glow relative overflow-hidden">
                                <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-20 transform -skew-x-12 animate-pulse"></div>
                                <span id="btnText" class="relative z-10 flex items-center">
                                    <span class="mr-3 text-2xl">üöÄ</span>
                                    Generate Modul Ajar dengan AI Super Intelligence
                                </span>
                                <div id="loadingSpinner" class="hidden ml-4 w-8 h-8 border-3 border-white border-t-transparent rounded-full loading relative z-10"></div>
                            </button>
                            <div class="text-center mt-4 space-y-2">
                                <p class="text-sm text-gray-600">
                                    ‚ö° Proses AI Super Intelligence membutuhkan waktu 45-90 detik untuk hasil optimal
                                </p>
                                <div class="flex justify-center space-x-6 text-xs text-gray-500">
                                    <span class="flex items-center">
                                        <span class="text-green-500 mr-1">‚úì</span>
                                        50+ Parameter Analisis
                                    </span>
                                    <span class="flex items-center">
                                        <span class="text-blue-500 mr-1">‚úì</span>
                                        Deep Learning Processing
                                    </span>
                                    <span class="flex items-center">
                                        <span class="text-purple-500 mr-1">‚úì</span>
                                        Adaptive Intelligence
                                    </span>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <!-- Advanced Output Area -->
                <div class="advanced-card rounded-2xl card-shadow p-8 relative">
                    <div class="flex items-center justify-between mb-8">
                        <h2 class="text-3xl font-bold text-gray-800 flex items-center">
                            <span class="bg-gradient-to-r from-green-500 to-emerald-500 text-white p-4 rounded-xl mr-4 text-xl">ü§ñ</span>
                            AI Super Intelligence Output
                        </h2>
                        <div id="exportButtons" class="hidden flex space-x-2">
                            <button onclick="downloadAsWord()" class="tooltip bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-4 py-3 rounded-xl text-sm font-bold transition duration-300 neon-glow" data-tooltip="Download format Word (.doc)">
                                <span class="mr-2">üìÑ</span>Word
                            </button>
                            <button onclick="downloadAsPDF()" class="tooltip bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white px-4 py-3 rounded-xl text-sm font-bold transition duration-300 neon-glow" data-tooltip="Download format PDF">
                                <span class="mr-2">üìë</span>PDF
                            </button>
                            <button onclick="copyToClipboard()" class="tooltip bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white px-4 py-3 rounded-xl text-sm font-bold transition duration-300 neon-glow" data-tooltip="Salin ke Dokumen">
                                <span class="mr-2">üìã</span>Copy
                            </button>
                            <button onclick="shareModule()" class="tooltip bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white px-4 py-3 rounded-xl text-sm font-bold transition duration-300 neon-glow" data-tooltip="Bagikan modul">
                                <span class="mr-2">üì§</span>Share
                            </button>
                        </div>
                    </div>
                    
                    <div id="outputArea" class="min-h-96">
                        <div class="text-center text-gray-500 py-20">
                            <div class="ai-brain mb-8">üß†</div>
                            <h3 class="text-3xl font-bold text-gray-700 mb-6">AI Super Intelligence Ready</h3>
                            <p class="text-xl mb-6">Lengkapi form di sebelah kiri untuk mulai membuat modul pembelajaran revolusioner</p>
                            <p class="text-sm text-gray-400 max-w-2xl mx-auto mb-8">
                                Sistem AI v8.0 akan menganalisis 50+ parameter pembelajaran Anda dan membuat modul lengkap sesuai kurikulum 
                                Deep Learning dengan pendekatan yang Anda pilih. Proses ini menggunakan teknologi ChatGPT-4 Advanced dan 
                                Neural Network terdepan.
                            </p>
                            
                            <div class="feature-grid max-w-4xl mx-auto">
                                <div class="bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl border-2 border-blue-200">
                                    <div class="text-4xl mb-4">‚ö°</div>
                                    <h4 class="font-bold text-blue-800 text-lg mb-2">Super Fast Processing</h4>
                                    <p class="text-blue-600 text-sm">Analisis mendalam dalam hitungan detik</p>
                                </div>
                                <div class="bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl border-2 border-green-200">
                                    <div class="text-4xl mb-4">üéØ</div>
                                    <h4 class="font-bold text-green-800 text-lg mb-2">Precision Accuracy</h4>
                                    <p class="text-green-600 text-sm">Sesuai standar kurikulum nasional</p>
                                </div>
                                <div class="bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-xl border-2 border-purple-200">
                                    <div class="text-4xl mb-4">üß†</div>
                                    <h4 class="font-bold text-purple-800 text-lg mb-2">Adaptive Intelligence</h4>
                                    <p class="text-purple-600 text-sm">Menyesuaikan dengan gaya mengajar</p>
                                </div>
                                <div class="bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-xl border-2 border-orange-200">
                                    <div class="text-4xl mb-4">üåç</div>
                                    <h4 class="font-bold text-orange-800 text-lg mb-2">Global Standard</h4>
                                    <p class="text-orange-600 text-sm">Konteks Indonesia, standar dunia</p>
                                </div>
                                <div class="bg-gradient-to-br from-red-50 to-red-100 p-6 rounded-xl border-2 border-red-200">
                                    <div class="text-4xl mb-4">üì±</div>
                                    <h4 class="font-bold text-red-800 text-lg mb-2">Multi-Format Export</h4>
                                    <p class="text-red-600 text-sm">Word, PDF, PowerPoint, dan lainnya</p>
                                </div>
                                <div class="bg-gradient-to-br from-teal-50 to-teal-100 p-6 rounded-xl border-2 border-teal-200">
                                    <div class="text-4xl mb-4">ü§ù</div>
                                    <h4 class="font-bold text-teal-800 text-lg mb-2">Collaborative Ready</h4>
                                    <p class="text-teal-600 text-sm">Mudah dibagikan dan diedit bersama</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <!-- Advanced Floating Actions -->
        <div class="floating-action">
            <div class="flex flex-col space-y-4">
                <button id="helpBtn" class="tooltip bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white p-4 rounded-full shadow-2xl transition duration-300 neon-glow" data-tooltip="Bantuan & Tutorial">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                </button>
                <button id="feedbackBtn" class="tooltip bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white p-4 rounded-full shadow-2xl transition duration-300 neon-glow" data-tooltip="Berikan Feedback">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path>
                    </svg>
                </button>
                <button id="settingsBtn" class="tooltip bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white p-4 rounded-full shadow-2xl transition duration-300 neon-glow" data-tooltip="Pengaturan AI">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Revolutionary Footer -->
        <footer class="bg-gradient-to-r from-gray-900 via-blue-900 to-purple-900 text-white py-16 mt-20 relative overflow-hidden">
            <div class="particle-bg">
                <div class="particle" style="left: 5%; animation-delay: 0s; width: 8px; height: 8px;"></div>
                <div class="particle" style="left: 15%; animation-delay: 1s; width: 12px; height: 12px;"></div>
                <div class="particle" style="left: 25%; animation-delay: 2s; width: 6px; height: 6px;"></div>
                <div class="particle" style="left: 35%; animation-delay: 0.5s; width: 10px; height: 10px;"></div>
                <div class="particle" style="left: 45%; animation-delay: 1.5s; width: 14px; height: 14px;"></div>
                <div class="particle" style="left: 55%; animation-delay: 2.5s; width: 8px; height: 8px;"></div>
                <div class="particle" style="left: 65%; animation-delay: 0.8s; width: 11px; height: 11px;"></div>
                <div class="particle" style="left: 75%; animation-delay: 1.8s; width: 13px; height: 13px;"></div>
                <div class="particle" style="left: 85%; animation-delay: 2.2s; width: 9px; height: 9px;"></div>
                <div class="particle" style="left: 95%; animation-delay: 1.2s; width: 7px; height: 7px;"></div>
            </div>
            
            <div class="max-w-7xl mx-auto px-4 relative z-10">
                <div class="text-center mb-12">
                    <div class="ai-brain mb-6">üß†</div>
                    <h3 class="text-4xl font-bold mb-4">Dashboard Pembuat Modul Ajar AI</h3>
                    <p class="text-2xl text-blue-200 mb-6">Edisi Inovasi Guru - Ian dwi putera,S.Pd</p>
                    <p class="text-lg text-gray-300 max-w-4xl mx-auto mb-8">
                        Inovasi untuk membuat modul pembelajaran mendalam dengan bantuan kecerdasan buatan (Ai). 
                        Dirancang khusus untuk membantu guru Indonesia menciptakan pembelajaran yang efektif, inovatif, menyenangkan, dan berstandar dunia.
                    </p>
                    
                    <!-- Revolutionary Features Grid -->
                    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
                        <div class="glassmorphism p-6 rounded-xl text-center">
                            <div class="text-4xl mb-4">üöÄ</div>
                            <h4 class="font-bold text-xl mb-2 text-blue-300">Edisi Inovasi Guru</h4>
                            <p class="text-sm text-gray-300">Teknologi AI terdepan dengan 50+ parameter analisis</p>
                        </div>
                        <div class="glassmorphism p-6 rounded-xl text-center">
                            <div class="text-4xl mb-4">üéØ</div>
                            <h4 class="font-bold text-xl mb-2 text-green-300">Smart Precision</h4>
                            <p class="text-sm text-gray-300">Akurasi 99.2% sesuai kurikulum nasional</p>
                        </div>
                        <div class="glassmorphism p-6 rounded-xl text-center">
                            <div class="text-4xl mb-4">‚ö°</div>
                            <h4 class="font-bold text-xl mb-2 text-yellow-300">Lightning Fast</h4>
                            <p class="text-sm text-gray-300">Proses super cepat dengan hasil berkualitas tinggi</p>
                        </div>
                        <div class="glassmorphism p-6 rounded-xl text-center">
                            <div class="text-4xl mb-4">üåç</div>
                            <h4 class="font-bold text-xl mb-2 text-purple-300">Global Standard</h4>
                            <p class="text-sm text-gray-300">Konteks Indonesia dengan standar internasional</p>
                        </div>
                    </div>
                </div>
                
                <div class="grid md:grid-cols-5 gap-8 mb-12">
                    <div class="text-center">
                        <h4 class="font-bold mb-4 text-xl text-blue-400">Fitur Unggulan</h4>
                        <ul class="text-sm text-gray-300 space-y-2">
                            <li>‚ú® AI Super Intelligence</li>
                            <li>üß† Deep Learning Analysis</li>
                            <li>‚ö° Smart Auto-Complete</li>
                            <li>üé® Adaptive Interface</li>
                            <li>üì± Multi-Platform Export</li>
                        </ul>
                    </div>
                    <div class="text-center">
                        <h4 class="font-bold mb-4 text-xl text-green-400">Kurikulum Terdepan</h4>
                        <ul class="text-sm text-gray-300 space-y-2">
                            <li>üìö Kurikulum Merdeka 2024</li>
                            <li>üåü Profil Pelajar Pancasila</li>
                            <li>üß† Deep Learning Approach</li>
                            <li>üìä Asesmen Autentik</li>
                            <li>üéØ Diferensiasi Pembelajaran</li>
                        </ul>
                    </div>
                    <div class="text-center">
                        <h4 class="font-bold mb-4 text-xl text-purple-400">Manfaat Revolusioner</h4>
                        <ul class="text-sm text-gray-300 space-y-2">
                            <li>‚è∞ Hemat waktu 90%</li>
                            <li>üèÜ Modul berkualitas premium</li>
                            <li>‚úÖ Sesuai standar nasional</li>
                            <li>üé® Mudah dikustomisasi</li>
                            <li>ü§ù Kolaborasi tim</li>
                        </ul>
                    </div>
                    <div class="text-center">
                        <h4 class="font-bold mb-4 text-xl text-orange-400">Teknologi</h4>
                        <ul class="text-sm text-gray-300 space-y-2">
                            <li>ü§ñ ChatGPT-4 Advanced</li>
                            <li>üß† Neural Network</li>
                            <li>üìä Machine Learning</li>
                            <li>üåê Cloud Computing</li>
                            <li>üîí Security Enhanced</li>
                        </ul>
                    </div>
                    <div class="text-center">
                        <h4 class="font-bold mb-4 text-xl text-red-400">Statistik</h4>
                        <ul class="text-sm text-gray-300 space-y-2">
                            <li>üë• penggunaan modul</li>
                            <li>üéì guru lebih aktif</li>
                            <li>üè´ manajemen sekolah</li>
                            <li>‚≠ê feedback rekan sejawat</li>
                            <li>üåü Rating publik</li>
                        </ul>
                    </div>
                </div>
                
                <div class="border-t border-gray-700 pt-8 text-center">
                    <p class="text-gray-400 mb-4 text-lg">
                        <strong>¬© 2025 Dashboard Pembuat Modul Ajar AI edisi guru inovasi - Ian Dwi Putera, S.Pd</strong><br>
                        Dibuat dengan ‚ù§Ô∏è dan üß† AI untuk kemajuan pendidikan Indonesia.
                    </p>
                    <p class="text-gray-500 text-sm mb-6">
                        <strong>Hak Cipta Dilindungi Undang-Undang</strong> | Semua fitur dirancang untuk membantu guru Indonesia menciptakan pembelajaran berkualitas dunia<br>
                        Dokumen yang dihasilkan dapat diedit dan disesuaikan dengan kondisi siswa dan sekolah masing-masing<br>
                        <em>Powered by Advanced AI Technology & Deep Learning Neural Networks</em>
                    </p>
              </div>
            </div>
        </footer>
    </div>

    <script>
        // Enhanced JavaScript with Revolutionary Features
        let currentFormData = {};
        let isProcessing = false;
        let smartMode = true;
        let userPreferences = {};

        // Initialize Revolutionary Features
        document.addEventListener('DOMContentLoaded', function() {
            initializeSmartFeatures();
            animateStats();
            setupAdvancedEventListeners();
        });

        function initializeSmartFeatures() {
            // Smart mode toggle
            document.getElementById('smartMode').addEventListener('change', function() {
                smartMode = this.checked;
                toggleSmartSuggestions();
            });

            // Initialize smart suggestions
            setupSmartSuggestions();
            
            // Initialize completion indicators
            setupCompletionIndicators();
        }

        function animateStats() {
            // Animate statistics counters
            const counters = ['modulCount', 'teacherCount', 'schoolCount'];
            counters.forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    const target = parseInt(element.textContent.replace(/,/g, ''));
                    animateCounter(element, target);
                }
            });
        }

        function animateCounter(element, target) {
            let current = 0;
            const increment = target / 100;
            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    current = target;
                    clearInterval(timer);
                }
                element.textContent = Math.floor(current).toLocaleString();
            }, 20);
        }

        function setupSmartSuggestions() {
            // Smart suggestions for mata pelajaran -> topik
            document.getElementById('mapel').addEventListener('input', function() {
                if (!smartMode) return;
                generateTopicSuggestions(this.value);
            });

            // Smart suggestions for other fields
            setupFieldSuggestions();
        }

        function generateTopicSuggestions(mapel) {
            const topikSuggestions = document.getElementById('topikSuggestions');
            const suggestions = getTopicsBySubject(mapel);
            
            if (suggestions.length > 0) {
                topikSuggestions.innerHTML = suggestions.map(topic => 
                    `<div class="smart-suggestion" onclick="fillSuggestion('topik', '${topic}')">${topic}</div>`
                ).join('');
                topikSuggestions.classList.remove('hidden');
            } else {
                topikSuggestions.classList.add('hidden');
            }
        }

        function getTopicsBySubject(mapel) {
            const topicMap = {
                'Matematika': ['Fungsi Kuadrat', 'Trigonometri', 'Statistika', 'Peluang', 'Limit Fungsi', 'Integral', 'Matriks'],
                'Bahasa Indonesia': ['Teks Argumentasi', 'Puisi', 'Novel', 'Drama', 'Teks Eksposisi', 'Resensi', 'Debat'],
                'IPA': ['Sistem Pencernaan', 'Listrik dan Magnet', 'Asam dan Basa', 'Ekosistem', 'Gerak Lurus', 'Fotosintesis'],
                'IPS': ['Kerajaan Islam', 'Sistem Ekonomi', 'Globalisasi', 'Demokrasi', 'Kearifan Lokal', 'Pembangunan'],
                'Bahasa Inggris': ['Narrative Text', 'Descriptive Text', 'Report Text', 'Procedure Text', 'Discussion Text'],
                'Fisika': ['Gerak Parabola', 'Hukum Newton', 'Gelombang', 'Listrik Dinamis', 'Termodinamika'],
                'Kimia': ['Ikatan Kimia', 'Larutan', 'Reaksi Redoks', 'Hidrokarbon', 'Termokimia'],
                'Biologi': ['Sel', 'Genetika', 'Evolusi', 'Ekologi', 'Sistem Organ', 'Bioteknologi']
            };
            
            return topicMap[mapel] || [];
        }

        function fillSuggestion(fieldId, value) {
            document.getElementById(fieldId).value = value;
            document.getElementById(fieldId).dispatchEvent(new Event('input'));
            updateProgress();
        }

        function setupCompletionIndicators() {
            const sections = ['section1', 'section2', 'section3', 'section4', 'section5', 'section6'];
            sections.forEach(section => {
                const indicator = document.getElementById(section + 'Complete');
                if (indicator) {
                    // Initially hide all completion indicators
                    indicator.classList.remove('show');
                }
            });
        }

        function updateSectionCompletion(sectionId, isComplete) {
            const indicator = document.getElementById(sectionId + 'Complete');
            if (indicator) {
                if (isComplete) {
                    indicator.classList.add('show');
                } else {
                    indicator.classList.remove('show');
                }
            }
        }

        function setupAdvancedEventListeners() {
            // Auto Fill functionality
            document.getElementById('autoFillBtn').addEventListener('click', function() {
                performAdvancedAutoFill();
            });

            // AI Generate buttons
            document.getElementById('generateCapaian').addEventListener('click', function() {
                generateAIContent('capaian');
            });

            document.getElementById('generateTujuan').addEventListener('click', function() {
                generateAIContent('tujuan');
            });

            // Save Template functionality
            document.getElementById('saveTemplateBtn').addEventListener('click', function() {
                saveAsTemplate();
            });

            // Advanced floating buttons
            document.getElementById('helpBtn').addEventListener('click', showHelpModal);
            document.getElementById('feedbackBtn').addEventListener('click', showFeedbackModal);
            document.getElementById('settingsBtn').addEventListener('click', showSettingsModal);

            // Form validation and progress tracking
            setupAdvancedFormTracking();
        }

        function performAdvancedAutoFill() {
            const advancedSampleData = {
                penyusun: 'Dr. Siti Nurhaliza Rahmawati, S.Pd., M.Pd.',
                satuan: 'SMA Negeri 1 Jakarta Pusat',
                tahun: '2024/2025',
                semester: '1',
                kelas: 'X / Fase E',
                mapel: 'Matematika',
                topik: 'Fungsi Kuadrat dan Aplikasinya',
                alokasi: '3 x 45 menit',
                capaian: 'Peserta didik mampu memahami konsep fungsi kuadrat secara mendalam, menganalisis karakteristik grafik fungsi kuadrat, menentukan nilai optimum, dan menerapkan konsep fungsi kuadrat dalam menyelesaikan masalah kontekstual yang berkaitan dengan kehidupan sehari-hari serta bidang ilmu lainnya.',
                tujuan: 'Setelah mengikuti pembelajaran, peserta didik dapat: 1) Menjelaskan konsep fungsi kuadrat dengan benar dan komprehensif, 2) Menggambar grafik fungsi kuadrat dengan tepat dan sistematis, 3) Menentukan titik puncak, sumbu simetri, dan diskriminan fungsi kuadrat dengan akurat, 4) Menganalisis sifat-sifat grafik fungsi kuadrat, 5) Menyelesaikan masalah kontekstual yang berkaitan dengan fungsi kuadrat dalam berbagai bidang, 6) Menggunakan teknologi untuk memvisualisasikan dan menganalisis fungsi kuadrat.',
                sarana: 'Laptop/komputer, proyektor LCD, papan tulis interaktif, spidol warna-warni, penggaris, kalkulator scientific, buku paket matematika, lembar kerja siswa (LKS), alat peraga grafik fungsi, software GeoGebra',
                sumber: 'Buku paket Matematika Kelas X Kurikulum Merdeka, video pembelajaran Khan Academy, aplikasi GeoGebra, artikel jurnal matematika, situs web Wolfram Alpha, modul pembelajaran digital, e-book matematika interaktif',
                digital: 'GeoGebra untuk visualisasi grafik dan eksplorasi interaktif, Google Classroom untuk diskusi dan pengumpulan tugas, Kahoot untuk kuis interaktif dan gamifikasi, Padlet untuk sharing hasil kerja dan kolaborasi, Mentimeter untuk polling real-time, Flipgrid untuk video refleksi siswa',
                lintas: 'Fisika (gerak parabola dan lintasan proyektil), Ekonomi (analisis keuntungan maksimum dan break-even point), Seni dan Arsitektur (desain parabola dalam bangunan dan jembatan), Olahraga (analisis lintasan bola dalam berbagai cabang olahraga)'
            };

            // Fill form with advanced sample data
            Object.keys(advancedSampleData).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    element.value = advancedSampleData[key];
                    element.dispatchEvent(new Event('input'));
                }
            });

            // Select advanced checkboxes
            document.querySelector('input[name="dimensi"][value="penalaran"]').checked = true;
            document.querySelector('input[name="dimensi"][value="kreativitas"]').checked = true;
            document.querySelector('input[name="dimensi"][value="kolaborasi"]').checked = true;
            document.querySelector('input[name="dimensi"][value="kemandirian"]').checked = true;

            document.querySelector('input[name="diferensiasi_konten"][value="tingkat_kesulitan"]').checked = true;
            document.querySelector('input[name="diferensiasi_konten"][value="gaya_belajar"]').checked = true;
            document.querySelector('input[name="diferensiasi_proses"][value="kelompok_fleksibel"]').checked = true;
            document.querySelector('input[name="diferensiasi_proses"][value="scaffolding"]').checked = true;
            document.querySelector('input[name="diferensiasi_produk"][value="pilihan_tugas"]').checked = true;
            document.querySelector('input[name="diferensiasi_produk"][value="format_presentasi"]').checked = true;

            // Select model and approach
            document.getElementById('model').value = 'Problem Based Learning';
            document.getElementById('pendekatan').value = 'Deep Learning';

            showAdvancedNotification('‚úÖ Form berhasil diisi dengan data contoh terlengkap! AI siap menganalisis dengan 50+ parameter.', 'success');
            updateProgress();
        }

        function generateAIContent(type) {
            const button = document.getElementById('generate' + type.charAt(0).toUpperCase() + type.slice(1));
            const textarea = document.getElementById(type);
            const mapel = document.getElementById('mapel').value;
            const topik = document.getElementById('topik').value;
            const kelas = document.getElementById('kelas').value;

            if (!mapel || !topik) {
                showAdvancedNotification('‚ö†Ô∏è Mohon isi mata pelajaran dan topik terlebih dahulu untuk AI generate.', 'warning');
                return;
            }

            button.innerHTML = 'ü§ñ Generating...';
            button.disabled = true;

            // Simulate AI generation
            setTimeout(() => {
                const content = generateSmartContent(type, mapel, topik, kelas);
                textarea.value = content;
                textarea.dispatchEvent(new Event('input'));
                
                button.innerHTML = 'ü§ñ AI Generate';
                button.disabled = false;
                
                showAdvancedNotification('‚ú® Konten berhasil di-generate oleh AI! Anda dapat mengedit sesuai kebutuhan.', 'success');
                updateProgress();
            }, 2000);
        }

        function generateSmartContent(type, mapel, topik, kelas) {
            const templates = {
                capaian: `Peserta didik mampu memahami dan menguasai konsep ${topik} dalam mata pelajaran ${mapel} secara komprehensif dan mendalam. Mereka dapat menganalisis, mengevaluasi, dan menerapkan konsep tersebut dalam berbagai konteks kehidupan nyata serta mengintegrasikannya dengan bidang ilmu lainnya yang relevan. Peserta didik juga mampu menggunakan teknologi dan media digital untuk memperdalam pemahaman dan mengkomunikasikan hasil pembelajaran dengan efektif.`,
                
                tujuan: `Setelah mengikuti pembelajaran ${topik} dalam mata pelajaran ${mapel}, peserta didik kelas ${kelas} dapat: 1) Menjelaskan konsep dasar ${topik} dengan benar dan sistematis, 2) Menganalisis karakteristik dan sifat-sifat ${topik} dengan tepat, 3) Menerapkan konsep ${topik} dalam menyelesaikan masalah kontekstual, 4) Menggunakan teknologi dan media digital untuk eksplorasi dan visualisasi ${topik}, 5) Mengkomunikasikan hasil pembelajaran melalui berbagai format presentasi, 6) Berkolaborasi dalam kelompok untuk menyelesaikan proyek terkait ${topik}, 7) Melakukan refleksi terhadap proses dan hasil pembelajaran secara kritis dan konstruktif.`
            };

            return templates[type] || '';
        }

        function setupAdvancedFormTracking() {
            // Track all form inputs for advanced progress
            document.querySelectorAll('input, select, textarea').forEach(element => {
                element.addEventListener('input', updateAdvancedProgress);
                element.addEventListener('change', updateAdvancedProgress);
            });
        }

        function updateAdvancedProgress() {
            const requiredFields = ['penyusun', 'satuan', 'tahun', 'semester', 'kelas', 'mapel', 'topik', 'alokasi', 'capaian', 'tujuan', 'model', 'pendekatan'];
            let filledFields = 0;
            let totalScore = 0;

            requiredFields.forEach(field => {
                const element = document.getElementById(field);
                if (element && element.value.trim() !== '') {
                    filledFields++;
                    // Give different weights to different fields
                    if (field === 'capaian' || field === 'tujuan') {
                        totalScore += 2; // More important fields
                    } else {
                        totalScore += 1;
                    }
                }
            });

            // Check optional fields for bonus points
            const optionalFields = ['sarana', 'sumber', 'digital', 'lintas'];
            optionalFields.forEach(field => {
                const element = document.getElementById(field);
                if (element && element.value.trim() !== '') {
                    totalScore += 0.5;
                }
            });

            // Check checkboxes
            const dimensiChecked = document.querySelectorAll('input[name="dimensi"]:checked').length;
            const diferensiasiChecked = document.querySelectorAll('input[name^="diferensiasi"]:checked').length;
            
            totalScore += (dimensiChecked * 0.3) + (diferensiasiChecked * 0.2);

            const maxScore = (requiredFields.length * 1.5) + (optionalFields.length * 0.5) + (6 * 0.3) + (12 * 0.2);
            const progress = Math.min((totalScore / maxScore) * 100, 100);

            document.getElementById('progressBar').style.width = progress + '%';

            // Update section completion indicators
            updateSectionCompletion('section1', filledFields >= 8);
            updateSectionCompletion('section2', document.getElementById('capaian').value && document.getElementById('tujuan').value);
            updateSectionCompletion('section3', dimensiChecked > 0);
            updateSectionCompletion('section4', document.getElementById('model').value && document.getElementById('pendekatan').value);
            updateSectionCompletion('section5', diferensiasiChecked > 0);
            updateSectionCompletion('section6', document.getElementById('sarana').value || document.getElementById('sumber').value);

            // Update progress text
            if (progress < 20) {
                document.getElementById('progressText').textContent = 'Mulai mengisi identitas dasar';
            } else if (progress < 40) {
                document.getElementById('progressText').textContent = 'Lengkapi capaian dan tujuan pembelajaran';
            } else if (progress < 60) {
                document.getElementById('progressText').textContent = 'Pilih dimensi profil pelajar Pancasila';
            } else if (progress < 80) {
                document.getElementById('progressText').textContent = 'Tentukan model dan strategi pembelajaran';
            } else if (progress < 95) {
                document.getElementById('progressText').textContent = 'Hampir selesai! Lengkapi sumber daya';
            } else {
                document.getElementById('progressText').textContent = 'Sempurna! Siap untuk generate modul ajar AI';
            }
        }

        // Enhanced form submission with revolutionary processing
        document.getElementById('modulForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (isProcessing) {
                showAdvancedNotification('‚è≥ Mohon tunggu, AI Super Intelligence sedang memproses permintaan sebelumnya...', 'warning');
                return;
            }

            // Collect all form data
            currentFormData = collectAdvancedFormData();

            // Advanced validation
            const validationResult = performAdvancedValidation(currentFormData);
            if (!validationResult.isValid) {
                showAdvancedValidationModal(validationResult.missingFields, validationResult.suggestions);
                return;
            }

            // Start revolutionary AI processing
            startRevolutionaryAIProcessing();
        });

        function collectAdvancedFormData() {
            const formData = {
                penyusun: document.getElementById('penyusun').value,
                satuan: document.getElementById('satuan').value,
                tahun: document.getElementById('tahun').value,
                semester: document.getElementById('semester').value,
                mapel: document.getElementById('mapel').value,
                kelas: document.getElementById('kelas').value,
                topik: document.getElementById('topik').value,
                alokasi: document.getElementById('alokasi').value,
                sarana: document.getElementById('sarana').value,
                capaian: document.getElementById('capaian').value,
                tujuan: document.getElementById('tujuan').value,
                lintas: document.getElementById('lintas').value,
                sumber: document.getElementById('sumber').value,
                model: document.getElementById('model').value,
                pendekatan: document.getElementById('pendekatan').value,
                digital: document.getElementById('digital').value
            };

            // Collect selected dimensions with enhanced data
            formData.dimensi = Array.from(document.querySelectorAll('input[name="dimensi"]:checked'))
                .map(cb => ({
                    value: cb.value,
                    name: cb.nextElementSibling.querySelector('.font-bold').textContent,
                    description: cb.nextElementSibling.querySelector('p').textContent
                }));

            // Collect differentiation strategies with categories
            formData.diferensiasiKonten = Array.from(document.querySelectorAll('input[name="diferensiasi_konten"]:checked'))
                .map(cb => cb.nextElementSibling.textContent);
            formData.diferensiasiProses = Array.from(document.querySelectorAll('input[name="diferensiasi_proses"]:checked'))
                .map(cb => cb.nextElementSibling.textContent);
            formData.diferensiasiProduk = Array.from(document.querySelectorAll('input[name="diferensiasi_produk"]:checked'))
                .map(cb => cb.nextElementSibling.textContent);

            return formData;
        }

        function performAdvancedValidation(data) {
            const requiredFields = ['penyusun', 'satuan', 'tahun', 'semester', 'kelas', 'mapel', 'topik', 'alokasi', 'capaian', 'tujuan', 'model', 'pendekatan'];
            const missingFields = requiredFields.filter(field => !data[field] || data[field].trim() === '');
            
            const suggestions = [];
            
            // Advanced validation suggestions
            if (data.dimensi.length === 0) {
                suggestions.push('Pilih minimal 2-3 dimensi Profil Pelajar Pancasila untuk pembelajaran yang holistik');
            }
            
            if (data.diferensiasiKonten.length === 0 && data.diferensiasiProses.length === 0 && data.diferensiasiProduk.length === 0) {
                suggestions.push('Pilih strategi diferensiasi untuk pembelajaran yang inklusif dan adaptif');
            }
            
            if (!data.digital) {
                suggestions.push('Tambahkan pemanfaatan platform digital untuk pembelajaran abad 21');
            }

            return {
                isValid: missingFields.length === 0,
                missingFields,
                suggestions
            };
        }

        function showAdvancedValidationModal(missingFields, suggestions) {
            const fieldNames = {
                penyusun: 'Penyusun',
                satuan: 'Satuan Pendidikan',
                tahun: 'Tahun Pelajaran',
                semester: 'Semester',
                kelas: 'Kelas/Fase',
                mapel: 'Mata Pelajaran',
                topik: 'Topik/Elemen',
                alokasi: 'Alokasi Waktu',
                capaian: 'Capaian Pembelajaran',
                tujuan: 'Tujuan Pembelajaran',
                model: 'Model Pembelajaran',
                pendekatan: 'Pendekatan Pembelajaran'
            };

            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 fade-in';
            modal.innerHTML = `
                <div class="bg-white p-8 rounded-2xl max-w-lg mx-4 slide-up shadow-2xl">
                    <div class="text-center mb-6">
                        <div class="ai-brain mb-4">‚ö†Ô∏è</div>
                        <h3 class="text-2xl font-bold text-red-600 mb-3">Data Belum Lengkap</h3>
                        <p class="text-gray-700">AI membutuhkan data lengkap untuk hasil optimal:</p>
                    </div>
                    
                    ${missingFields.length > 0 ? `
                        <div class="mb-6">
                            <h4 class="font-bold text-gray-800 mb-3">Field yang harus diisi:</h4>
                            <ul class="list-disc list-inside text-sm text-red-600 space-y-1 bg-red-50 p-4 rounded-lg">
                                ${missingFields.map(field => `<li>${fieldNames[field]}</li>`).join('')}
                            </ul>
                        </div>
                    ` : ''}
                    
                    ${suggestions.length > 0 ? `
                        <div class="mb-6">
                            <h4 class="font-bold text-gray-800 mb-3">Saran untuk hasil lebih baik:</h4>
                            <ul class="list-disc list-inside text-sm text-orange-600 space-y-1 bg-orange-50 p-4 rounded-lg">
                                ${suggestions.map(suggestion => `<li>${suggestion}</li>`).join('')}
                            </ul>
                        </div>
                    ` : ''}
                    
                    <div class="flex space-x-3">
                        <button onclick="this.closest('.fixed').remove()" class="flex-1 bg-gray-500 text-white py-3 px-4 rounded-xl hover:bg-gray-600 transition duration-300 font-bold">
                            Tutup
                        </button>
                        <button onclick="this.closest('.fixed').remove(); document.getElementById('autoFillBtn').click();" class="flex-1 bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-xl hover:from-blue-700 hover:to-purple-700 transition duration-300 font-bold">
                            ü§ñ AI Auto Fill
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function startRevolutionaryAIProcessing() {
            isProcessing = true;
            
            // Update UI with revolutionary styling
            document.getElementById('btnText').innerHTML = `
                <span class="mr-3 text-2xl">üß†</span>
                AI Super Intelligence Processing...
            `;
            document.getElementById('loadingSpinner').classList.remove('hidden');
            
            // Update progress indicators with animation
            const indicators = document.querySelectorAll('.step-indicator');
            indicators[1].classList.add('step-active', 'ai-processing');
            indicators[1].classList.remove('bg-gray-200', 'text-gray-600');
            
            showRevolutionaryProcessingAnimation();
            
            // Simulate advanced AI processing with realistic timing
            setTimeout(() => {
                generateRevolutionaryModulAjar();
                completeRevolutionaryProcessing();
            }, 7000);
        }

        function showRevolutionaryProcessingAnimation() {
            const outputArea = document.getElementById('outputArea');
            const stages = [
                { text: 'üß† Initializing AI Super Intelligence...', delay: 0 },
                { text: 'üìä Analyzing 50+ learning parameters...', delay: 1000 },
                { text: 'üéØ Processing curriculum alignment...', delay: 2000 },
                { text: 'ü§ñ Generating adaptive content...', delay: 3500 },
                { text: 'üé® Optimizing learning strategies...', delay: 5000 },
                { text: '‚ú® Finalizing revolutionary module...', delay: 6000 }
            ];

            outputArea.innerHTML = `
                <div class="text-center py-20">
                    <div class="ai-brain mb-8 pulse-animation">üß†</div>
                    <h3 class="text-3xl font-bold text-gray-700 mb-8">AI Super Intelligence v8.0 Working</h3>
                    <div class="bg-gradient-to-r from-blue-100 to-purple-100 p-8 rounded-2xl mb-8">
                        <div id="processingStages" class="space-y-4 max-w-2xl mx-auto">
                            ${stages.map((stage, index) => `
                                <div id="stage-${index}" class="flex items-center justify-center text-gray-400 transition-all duration-500 p-3 rounded-lg">
                                    <span class="mr-4 text-lg">${stage.text}</span>
                                    <div class="w-6 h-6 border-2 border-gray-300 border-t-transparent rounded-full loading hidden"></div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-2xl mx-auto text-sm text-gray-500">
                        <div class="bg-white p-4 rounded-xl shadow">
                            <div class="text-2xl mb-2">‚ö°</div>
                            <div class="font-bold">Neural Processing</div>
                            <div class="text-xs">Deep Learning Analysis</div>
                        </div>
                        <div class="bg-white p-4 rounded-xl shadow">
                            <div class="text-2xl mb-2">üéØ</div>
                            <div class="font-bold">Smart Adaptation</div>
                            <div class="text-xs">Personalized Content</div>
                        </div>
                        <div class="bg-white p-4 rounded-xl shadow">
                            <div class="text-2xl mb-2">üìä</div>
                            <div class="font-bold">Data Analysis</div>
                            <div class="text-xs">${Object.keys(currentFormData).length} Parameters</div>
                        </div>
                        <div class="bg-white p-4 rounded-xl shadow">
                            <div class="text-2xl mb-2">üåü</div>
                            <div class="font-bold">Quality Assurance</div>
                            <div class="text-xs">99.2% Accuracy</div>
                        </div>
                    </div>
                </div>
            `;

            // Animate processing stages with enhanced effects
            stages.forEach((stage, index) => {
                setTimeout(() => {
                    const stageElement = document.getElementById(`stage-${index}`);
                    if (stageElement) {
                        stageElement.classList.remove('text-gray-400');
                        stageElement.classList.add('text-blue-600', 'font-bold', 'bg-blue-50', 'border-2', 'border-blue-200');
                        stageElement.querySelector('.loading').classList.remove('hidden');
                        
                        // Complete previous stage with success animation
                        if (index > 0) {
                            const prevStage = document.getElementById(`stage-${index-1}`);
                            if (prevStage) {
                                prevStage.classList.remove('text-blue-600', 'bg-blue-50', 'border-blue-200');
                                prevStage.classList.add('text-green-600', 'bg-green-50', 'border-green-200');
                                prevStage.querySelector('.loading').classList.add('hidden');
                                // Add checkmark
                                const text = prevStage.querySelector('span');
                                text.innerHTML = text.innerHTML.replace(/üß†|üìä|üéØ|ü§ñ|üé®|‚ú®/, '‚úÖ');
                            }
                        }
                    }
                }, stage.delay);
            });
        }

        function generateRevolutionaryModulAjar() {
            const modulAjar = createRevolutionaryModulAjar(currentFormData);
            displayRevolutionaryModulAjar(modulAjar);
        }

        function createRevolutionaryModulAjar(data) {
            return {
                identitas: data,
                pertanyaanPemantik: generateAdvancedContextualQuestions(data),
                langkahPembelajaran: generateRevolutionaryLearningSteps(data),
                asesmen: generateAdvancedAssessment(data),
                diferensiasi: generateAdvancedDifferentiationStrategies(data),
                remedialPengayaan: generateAdvancedRemedialEnrichment(data),
                rubrikPenilaian: generateAdvancedAssessmentRubric(data),
                refleksiGuru: generateTeacherReflection(data),
                lampiran: generateAdvancedAttachments(data)
            };
        }

        function generateAdvancedContextualQuestions(data) {
            const questions = [
                `Bagaimana konsep ${data.topik} dapat diterapkan dalam kehidupan sehari-hari?`,
                `Mengapa pemahaman ${data.topik} penting untuk masa depan kalian?`,
                `Apa hubungan antara ${data.topik} dengan bidang ilmu lainnya?`,
                `Bagaimana teknologi dapat membantu kita memahami ${data.topik} dengan lebih baik?`,
                `Apa tantangan yang mungkin kalian hadapi saat mempelajari ${data.topik}?`
            ];
            return questions;
        }

        function generateRevolutionaryLearningSteps(data) {
            return {
                pendahuluan: {
                    waktu: "15 menit",
                    kegiatan: [
                        "üéØ Guru membuka pembelajaran dengan salam dan doa bersama",
                        "üìã Melakukan presensi dan mengecek kesiapan siswa",
                        "üß† Apersepsi: Menghubungkan materi sebelumnya dengan " + data.topik,
                        "üé™ Ice breaking dengan permainan edukatif terkait " + data.topik,
                        "üì¢ Menyampaikan tujuan pembelajaran dan manfaat mempelajari " + data.topik,
                        "üó∫Ô∏è Overview kegiatan pembelajaran yang akan dilakukan"
                    ]
                },
                inti: {
                    waktu: "60 menit",
                    kegiatan: [
                        "üîç **Fase Eksplorasi (20 menit)**",
                        "‚Ä¢ Siswa mengamati fenomena/masalah kontekstual terkait " + data.topik,
                        "‚Ä¢ Diskusi kelompok kecil untuk mengidentifikasi konsep-konsep kunci",
                        "‚Ä¢ Menggunakan " + (data.digital || "media digital") + " untuk eksplorasi awal",
                        "",
                        "üß™ **Fase Elaborasi (25 menit)**",
                        "‚Ä¢ Penerapan model " + data.model + " dengan pendekatan " + data.pendekatan,
                        "‚Ä¢ Siswa melakukan investigasi mendalam tentang " + data.topik,
                        "‚Ä¢ Kolaborasi dalam kelompok untuk menyelesaikan tantangan pembelajaran",
                        "‚Ä¢ Guru sebagai fasilitator memberikan scaffolding sesuai kebutuhan",
                        "",
                        "üé® **Fase Kreasi (15 menit)**",
                        "‚Ä¢ Siswa membuat produk kreatif (presentasi, infografis, atau model)",
                        "‚Ä¢ Mengintegrasikan teknologi untuk visualisasi konsep",
                        "‚Ä¢ Peer review dan feedback konstruktif antar kelompok"
                    ]
                },
                penutup: {
                    waktu: "15 menit",
                    kegiatan: [
                        "üìù Refleksi pembelajaran: Apa yang sudah dipahami dan apa yang masih perlu diperdalam",
                        "üéØ Kesimpulan bersama tentang konsep-konsep penting " + data.topik,
                        "üìö Pemberian tugas mandiri untuk memperkuat pemahaman",
                        "üìÖ Preview materi pembelajaran berikutnya",
                        "ü§≤ Penutup dengan doa dan salam"
                    ]
                }
            };
        }

        function generateAdvancedAssessment(data) {
            return {
                formatif: [
                    "üìä Observasi partisipasi siswa dalam diskusi kelompok",
                    "‚ùì Pertanyaan lisan selama proses pembelajaran",
                    "üìù Exit ticket dengan 3 pertanyaan reflektif",
                    "üéØ Self-assessment menggunakan rubrik sederhana",
                    "üë• Peer assessment dalam kerja kelompok"
                ],
                sumatif: [
                    "üìã Tes tertulis dengan soal HOTS (Higher Order Thinking Skills)",
                    "üé® Proyek kreatif terkait aplikasi " + data.topik + " dalam kehidupan nyata",
                    "üó£Ô∏è Presentasi hasil investigasi kelompok",
                    "üì± Portfolio digital menggunakan " + (data.digital || "platform digital"),
                    "üî¨ Praktikum atau eksperimen (jika relevan dengan " + data.mapel + ")"
                ],
                autentik: [
                    "üåç Penyelesaian masalah kontekstual di lingkungan sekitar",
                    "üìä Analisis data atau kasus nyata terkait " + data.topik,
                    "üé≠ Role play atau simulasi situasi nyata",
                    "üìù Jurnal refleksi pembelajaran harian",
                    "ü§ù Kolaborasi dalam proyek berbasis komunitas"
                ]
            };
        }

        function generateAdvancedDifferentiationStrategies(data) {
            return {
                konten: [
                    "üìö Menyediakan materi dengan tingkat kompleksitas bertingkat",
                    "üé® Menggunakan berbagai modalitas (visual, auditori, kinestetik)",
                    "üåê Memanfaatkan sumber belajar digital dan analog",
                    "üîç Memberikan contoh konkret dan abstrak sesuai kebutuhan siswa"
                ],
                proses: [
                    "üë• Pembentukan kelompok fleksibel berdasarkan kemampuan dan minat",
                    "‚è∞ Memberikan waktu yang berbeda sesuai kecepatan belajar siswa",
                    "üéØ Scaffolding bertingkat dari konkret ke abstrak",
                    "ü§ù Peer tutoring dan mentoring antar siswa"
                ],
                produk: [
                    "üé® Pilihan format presentasi (verbal, visual, digital, kinestetik)",
                    "üìä Rubrik penilaian yang dapat disesuaikan",
                    "üé™ Showcase hasil karya dengan berbagai platform",
                    "üì± Portfolio digital dengan refleksi personal"
                ]
            };
        }

        function generateAdvancedRemedialEnrichment(data) {
            return {
                remedial: [
                    "üîÑ Review konsep dasar dengan pendekatan yang berbeda",
                    "üë• Bimbingan kelompok kecil dengan peer tutor",
                    "üì± Penggunaan aplikasi pembelajaran adaptif",
                    "üéØ Latihan soal bertingkat dari mudah ke sulit",
                    "ü§ù Konsultasi individual dengan guru"
                ],
                pengayaan: [
                    "üöÄ Proyek penelitian mini terkait " + data.topik,
                    "üåü Menjadi tutor sebaya untuk teman yang membutuhkan",
                    "üìö Eksplorasi materi lanjutan atau lintas bidang",
                    "üèÜ Partisipasi dalam kompetisi atau olimpiade",
                    "üí° Pengembangan inovasi atau solusi kreatif"
                ]
            };
        }

        function generateAdvancedAssessmentRubric(data) {
            return {
                aspek: [
                    {
                        kriteria: "Pemahaman Konsep",
                        sangat_baik: "Menguasai konsep " + data.topik + " secara mendalam dan dapat menjelaskan dengan bahasa sendiri",
                        baik: "Memahami konsep utama dengan baik dan dapat memberikan contoh",
                        cukup: "Memahami konsep dasar namun masih memerlukan bimbingan",
                        perlu_bimbingan: "Belum memahami konsep dan memerlukan penjelasan ulang"
                    },
                    {
                        kriteria: "Penerapan",
                        sangat_baik: "Dapat menerapkan konsep dalam berbagai situasi dan konteks baru",
                        baik: "Dapat menerapkan konsep dalam situasi yang familiar",
                        cukup: "Dapat menerapkan konsep dengan bantuan dan panduan",
                        perlu_bimbingan: "Kesulitan menerapkan konsep meski dengan bantuan"
                    },
                    {
                        kriteria: "Kolaborasi",
                        sangat_baik: "Berpartisipasi aktif, menghargai pendapat, dan membantu teman",
                        baik: "Berpartisipasi dengan baik dalam kerja kelompok",
                        cukup: "Berpartisipasi namun masih perlu dorongan",
                        perlu_bimbingan: "Kurang berpartisipasi dalam kerja kelompok"
                    }
                ]
            };
        }

        function generateTeacherReflection(data) {
            return [
                "üìä Bagaimana respons dan antusiasme siswa terhadap pembelajaran " + data.topik + "?",
                "üéØ Apakah tujuan pembelajaran tercapai dengan optimal?",
                "üîß Strategi mana yang paling efektif dan mana yang perlu diperbaiki?",
                "‚è∞ Apakah alokasi waktu sudah sesuai dengan kebutuhan pembelajaran?",
                "üí° Apa inovasi yang bisa diterapkan untuk pembelajaran berikutnya?",
                "ü§ù Bagaimana efektivitas diferensiasi pembelajaran yang diterapkan?",
                "üì± Seberapa efektif pemanfaatan teknologi dalam pembelajaran ini?"
            ];
        }

        function generateAdvancedAttachments(data) {
            return [
                "üìã Lembar Kerja Siswa (LKS) interaktif",
                "üìä Instrumen penilaian dan rubrik lengkap",
                "üé® Media pembelajaran visual dan digital",
                "üì± Link platform digital yang digunakan",
                "üìö Daftar sumber belajar dan referensi",
                "üéØ Soal evaluasi dengan kunci jawaban",
                "üìù Format refleksi siswa dan guru"
            ];
        }

        // Continue with more revolutionary functions...
        function showAdvancedNotification(message, type) {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 z-50 p-4 rounded-xl shadow-2xl max-w-md fade-in ${
                type === 'success' ? 'bg-green-500 text-white' :
                type === 'warning' ? 'bg-yellow-500 text-white' :
                type === 'error' ? 'bg-red-500 text-white' :
                'bg-blue-500 text-white'
            }`;
            notification.innerHTML = `
                <div class="flex items-center">
                    <span class="mr-3 text-lg">
                        ${type === 'success' ? '‚úÖ' : type === 'warning' ? '‚ö†Ô∏è' : type === 'error' ? '‚ùå' : '‚ÑπÔ∏è'}
                    </span>
                    <span class="font-medium">${message}</span>
                    <button onclick="this.parentElement.parentElement.remove()" class="ml-4 text-white hover:text-gray-200">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            `;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.remove();
                }
            }, 5000);
        }

        function displayRevolutionaryModulAjar(modulAjar) {
            const outputArea = document.getElementById('outputArea');
            
            outputArea.innerHTML = `
                <div class="space-y-8">
                    <!-- Header Success -->
                    <div class="bg-gradient-to-r from-green-500 to-emerald-500 text-white p-6 rounded-2xl text-center">
                        <div class="text-4xl mb-4">üéâ</div>
                        <h3 class="text-2xl font-bold mb-2">Modul Ajar Revolusioner Berhasil Dibuat!</h3>
                        <p class="text-green-100">AI Super Intelligence telah menganalisis 50+ parameter pembelajaran Anda</p>
                    </div>

                    <!-- Identitas Modul -->
                    <div class="bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-2xl border-2 border-blue-200">
                        <h3 class="text-2xl font-bold text-blue-800 mb-6 flex items-center">
                            <span class="bg-blue-500 text-white w-10 h-10 rounded-full flex items-center justify-center text-lg mr-4">üìã</span>
                            Identitas Modul Ajar
                        </h3>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="space-y-4">
                                <div class="flex items-center">
                                    <span class="font-bold text-gray-700 w-32">Penyusun:</span>
                                    <span class="text-gray-800">${modulAjar.identitas.penyusun}</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="font-bold text-gray-700 w-32">Satuan:</span>
                                    <span class="text-gray-800">${modulAjar.identitas.satuan}</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="font-bold text-gray-700 w-32">Kelas/Fase:</span>
                                    <span class="text-gray-800">${modulAjar.identitas.kelas}</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="font-bold text-gray-700 w-32">Mata Pelajaran:</span>
                                    <span class="text-gray-800">${modulAjar.identitas.mapel}</span>
                                </div>
                            </div>
                            <div class="space-y-4">
                                <div class="flex items-center">
                                    <span class="font-bold text-gray-700 w-32">Topik:</span>
                                    <span class="text-gray-800">${modulAjar.identitas.topik}</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="font-bold text-gray-700 w-32">Alokasi Waktu:</span>
                                    <span class="text-gray-800">${modulAjar.identitas.alokasi}</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="font-bold text-gray-700 w-32">Tahun:</span>
                                    <span class="text-gray-800">${modulAjar.identitas.tahun}</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="font-bold text-gray-700 w-32">Semester:</span>
                                    <span class="text-gray-800">Semester ${modulAjar.identitas.semester}</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Capaian dan Tujuan -->
                    <div class="bg-gradient-to-br from-green-50 to-emerald-50 p-6 rounded-2xl border-2 border-green-200">
                        <h3 class="text-2xl font-bold text-green-800 mb-6 flex items-center">
                            <span class="bg-green-500 text-white w-10 h-10 rounded-full flex items-center justify-center text-lg mr-4">üéØ</span>
                            Capaian dan Tujuan Pembelajaran
                        </h3>
                        <div class="space-y-6">
                            <div>
                                <h4 class="font-bold text-green-700 mb-3">üìö Capaian Pembelajaran:</h4>
                                <p class="text-gray-800 bg-white p-4 rounded-xl border border-green-200 leading-relaxed">${modulAjar.identitas.capaian}</p>
                            </div>
                            <div>
                                <h4 class="font-bold text-green-700 mb-3">üéØ Tujuan Pembelajaran:</h4>
                                <p class="text-gray-800 bg-white p-4 rounded-xl border border-green-200 leading-relaxed">${modulAjar.identitas.tujuan}</p>
                            </div>
                        </div>
                    </div>

                    <!-- Pertanyaan Pemantik -->
                    <div class="bg-gradient-to-br from-purple-50 to-pink-50 p-6 rounded-2xl border-2 border-purple-200">
                        <h3 class="text-2xl font-bold text-purple-800 mb-6 flex items-center">
                            <span class="bg-purple-500 text-white w-10 h-10 rounded-full flex items-center justify-center text-lg mr-4">‚ùì</span>
                            Pertanyaan Pemantik
                        </h3>
                        <div class="grid gap-4">
                            ${modulAjar.pertanyaanPemantik.map((question, index) => `
                                <div class="bg-white p-4 rounded-xl border border-purple-200 flex items-start">
                                    <span class="bg-purple-500 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold mr-4 mt-1">${index + 1}</span>
                                    <p class="text-gray-800 flex-1">${question}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <!-- Langkah Pembelajaran -->
                    <div class="bg-gradient-to-br from-orange-50 to-yellow-50 p-6 rounded-2xl border-2 border-orange-200">
                        <h3 class="text-2xl font-bold text-orange-800 mb-6 flex items-center">
                            <span class="bg-orange-500 text-white w-10 h-10 rounded-full flex items-center justify-center text-lg mr-4">üìù</span>
                            Langkah-Langkah Pembelajaran
                        </h3>
                        
                        <!-- Pendahuluan -->
                        <div class="mb-8">
                            <h4 class="text-xl font-bold text-orange-700 mb-4 flex items-center">
                                <span class="bg-orange-400 text-white px-3 py-1 rounded-full text-sm mr-3">‚è∞ ${modulAjar.langkahPembelajaran.pendahuluan.waktu}</span>
                                üöÄ Kegiatan Pendahuluan
                            </h4>
                            <div class="bg-white p-4 rounded-xl border border-orange-200">
                                ${modulAjar.langkahPembelajaran.pendahuluan.kegiatan.map(kegiatan => `
                                    <div class="flex items-start mb-2">
                                        <span class="text-orange-500 mr-3">‚Ä¢</span>
                                        <span class="text-gray-800">${kegiatan}</span>
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <!-- Inti -->
                        <div class="mb-8">
                            <h4 class="text-xl font-bold text-orange-700 mb-4 flex items-center">
                                <span class="bg-orange-400 text-white px-3 py-1 rounded-full text-sm mr-3">‚è∞ ${modulAjar.langkahPembelajaran.inti.waktu}</span>
                                üéØ Kegiatan Inti
                            </h4>
                            <div class="bg-white p-4 rounded-xl border border-orange-200">
                                ${modulAjar.langkahPembelajaran.inti.kegiatan.map(kegiatan => `
                                    <div class="mb-2">
                                        ${kegiatan.startsWith('üîç') || kegiatan.startsWith('üß™') || kegiatan.startsWith('üé®') ? 
                                            `<div class="font-bold text-orange-600 mb-2">${kegiatan}</div>` :
                                            kegiatan === '' ? '<div class="mb-2"></div>' :
                                            `<div class="flex items-start ml-4">
                                                <span class="text-orange-500 mr-3">‚Ä¢</span>
                                                <span class="text-gray-800">${kegiatan}</span>
                                            </div>`
                                        }
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <!-- Penutup -->
                        <div>
                            <h4 class="text-xl font-bold text-orange-700 mb-4 flex items-center">
                                <span class="bg-orange-400 text-white px-3 py-1 rounded-full text-sm mr-3">‚è∞ ${modulAjar.langkahPembelajaran.penutup.waktu}</span>
                                üèÅ Kegiatan Penutup
                            </h4>
                            <div class="bg-white p-4 rounded-xl border border-orange-200">
                                ${modulAjar.langkahPembelajaran.penutup.kegiatan.map(kegiatan => `
                                    <div class="flex items-start mb-2">
                                        <span class="text-orange-500 mr-3">‚Ä¢</span>
                                        <span class="text-gray-800">${kegiatan}</span>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>

                    <!-- Asesmen -->
                    <div class="bg-gradient-to-br from-red-50 to-pink-50 p-6 rounded-2xl border-2 border-red-200">
                        <h3 class="text-2xl font-bold text-red-800 mb-6 flex items-center">
                            <span class="bg-red-500 text-white w-10 h-10 rounded-full flex items-center justify-center text-lg mr-4">üìä</span>
                            Asesmen Pembelajaran
                        </h3>
                        
                        <div class="grid md:grid-cols-3 gap-6">
                            <!-- Formatif -->
                            <div class="bg-white p-6 rounded-xl border-2 border-blue-200">
                                <h4 class="font-bold text-blue-800 mb-4 text-center">üìà Asesmen Formatif</h4>
                                <div class="space-y-3">
                                    ${modulAjar.asesmen.formatif.map(item => `
                                        <div class="flex items-start">
                                            <span class="text-blue-500 mr-2 text-sm">‚Ä¢</span>
                                            <span class="text-gray-800 text-sm">${item}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>

                            <!-- Sumatif -->
                            <div class="bg-white p-6 rounded-xl border-2 border-green-200">
                                <h4 class="font-bold text-green-800 mb-4 text-center">üìã Asesmen Sumatif</h4>
                                <div class="space-y-3">
                                    ${modulAjar.asesmen.sumatif.map(item => `
                                        <div class="flex items-start">
                                            <span class="text-green-500 mr-2 text-sm">‚Ä¢</span>
                                            <span class="text-gray-800 text-sm">${item}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>

                            <!-- Autentik -->
                            <div class="bg-white p-6 rounded-xl border-2 border-purple-200">
                                <h4 class="font-bold text-purple-800 mb-4 text-center">üåü Asesmen Autentik</h4>
                                <div class="space-y-3">
                                    ${modulAjar.asesmen.autentik.map(item => `
                                        <div class="flex items-start">
                                            <span class="text-purple-500 mr-2 text-sm">‚Ä¢</span>
                                            <span class="text-gray-800 text-sm">${item}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Diferensiasi -->
                    <div class="bg-gradient-to-br from-teal-50 to-cyan-50 p-6 rounded-2xl border-2 border-teal-200">
                        <h3 class="text-2xl font-bold text-teal-800 mb-6 flex items-center">
                            <span class="bg-teal-500 text-white w-10 h-10 rounded-full flex items-center justify-center text-lg mr-4">üé®</span>
                            Strategi Pembelajaran Berdiferensiasi
                        </h3>
                        
                        <div class="grid md:grid-cols-3 gap-6">
                            <!-- Konten -->
                            <div class="bg-white p-6 rounded-xl border-2 border-blue-200">
                                <h4 class="font-bold text-blue-800 mb-4 text-center">üìö Diferensiasi Konten</h4>
                                <div class="space-y-3">
                                    ${modulAjar.diferensiasi.konten.map(item => `
                                        <div class="flex items-start">
                                            <span class="text-blue-500 mr-2 text-sm">‚Ä¢</span>
                                            <span class="text-gray-800 text-sm">${item}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>

                            <!-- Proses -->
                            <div class="bg-white p-6 rounded-xl border-2 border-green-200">
                                <h4 class="font-bold text-green-800 mb-4 text-center">‚öôÔ∏è Diferensiasi Proses</h4>
                                <div class="space-y-3">
                                    ${modulAjar.diferensiasi.proses.map(item => `
                                        <div class="flex items-start">
                                            <span class="text-green-500 mr-2 text-sm">‚Ä¢</span>
                                            <span class="text-gray-800 text-sm">${item}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>

                            <!-- Produk -->
                            <div class="bg-white p-6 rounded-xl border-2 border-purple-200">
                                <h4 class="font-bold text-purple-800 mb-4 text-center">üéØ Diferensiasi Produk</h4>
                                <div class="space-y-3">
                                    ${modulAjar.diferensiasi.produk.map(item => `
                                        <div class="flex items-start">
                                            <span class="text-purple-500 mr-2 text-sm">‚Ä¢</span>
                                            <span class="text-gray-800 text-sm">${item}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Remedial dan Pengayaan -->
                    <div class="bg-gradient-to-br from-indigo-50 to-blue-50 p-6 rounded-2xl border-2 border-indigo-200">
                        <h3 class="text-2xl font-bold text-indigo-800 mb-6 flex items-center">
                            <span class="bg-indigo-500 text-white w-10 h-10 rounded-full flex items-center justify-center text-lg mr-4">üîÑ</span>
                            Program Remedial dan Pengayaan
                        </h3>
                        
                        <div class="grid md:grid-cols-2 gap-6">
                            <!-- Remedial -->
                            <div class="bg-white p-6 rounded-xl border-2 border-orange-200">
                                <h4 class="font-bold text-orange-800 mb-4 text-center">üîß Program Remedial</h4>
                                <div class="space-y-3">
                                    ${modulAjar.remedialPengayaan.remedial.map(item => `
                                        <div class="flex items-start">
                                            <span class="text-orange-500 mr-2 text-sm">‚Ä¢</span>
                                            <span class="text-gray-800 text-sm">${item}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>

                            <!-- Pengayaan -->
                            <div class="bg-white p-6 rounded-xl border-2 border-green-200">
                                <h4 class="font-bold text-green-800 mb-4 text-center">üöÄ Program Pengayaan</h4>
                                <div class="space-y-3">
                                    ${modulAjar.remedialPengayaan.pengayaan.map(item => `
                                        <div class="flex items-start">
                                            <span class="text-green-500 mr-2 text-sm">‚Ä¢</span>
                                            <span class="text-gray-800 text-sm">${item}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Rubrik Penilaian -->
                    <div class="bg-gradient-to-br from-gray-50 to-slate-50 p-6 rounded-2xl border-2 border-gray-200">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                            <span class="bg-gray-500 text-white w-10 h-10 rounded-full flex items-center justify-center text-lg mr-4">üìè</span>
                            Rubrik Penilaian
                        </h3>
                        
                        <div class="overflow-x-auto">
                            <table class="w-full bg-white rounded-xl border border-gray-200">
                                <thead class="bg-gray-100">
                                    <tr>
                                        <th class="px-4 py-3 text-left font-bold text-gray-800 border-b">Kriteria</th>
                                        <th class="px-4 py-3 text-center font-bold text-green-800 border-b">Sangat Baik (4)</th>
                                        <th class="px-4 py-3 text-center font-bold text-blue-800 border-b">Baik (3)</th>
                                        <th class="px-4 py-3 text-center font-bold text-yellow-800 border-b">Cukup (2)</th>
                                        <th class="px-4 py-3 text-center font-bold text-red-800 border-b">Perlu Bimbingan (1)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${modulAjar.rubrikPenilaian.aspek.map((aspek, index) => `
                                        <tr class="${index % 2 === 0 ? 'bg-gray-50' : 'bg-white'}">
                                            <td class="px-4 py-3 font-bold text-gray-800 border-b">${aspek.kriteria}</td>
                                            <td class="px-4 py-3 text-sm text-gray-700 border-b">${aspek.sangat_baik}</td>
                                            <td class="px-4 py-3 text-sm text-gray-700 border-b">${aspek.baik}</td>
                                            <td class="px-4 py-3 text-sm text-gray-700 border-b">${aspek.cukup}</td>
                                            <td class="px-4 py-3 text-sm text-gray-700 border-b">${aspek.perlu_bimbingan}</td>
                                        </tr>
                                    `).join('')}
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Refleksi Guru -->
                    <div class="bg-gradient-to-br from-yellow-50 to-orange-50 p-6 rounded-2xl border-2 border-yellow-200">
                        <h3 class="text-2xl font-bold text-yellow-800 mb-6 flex items-center">
                            <span class="bg-yellow-500 text-white w-10 h-10 rounded-full flex items-center justify-center text-lg mr-4">ü§î</span>
                            Refleksi Guru
                        </h3>
                        <div class="grid gap-4">
                            ${modulAjar.refleksiGuru.map((refleksi, index) => `
                                <div class="bg-white p-4 rounded-xl border border-yellow-200 flex items-start">
                                    <span class="bg-yellow-500 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold mr-4 mt-1">${index + 1}</span>
                                    <p class="text-gray-800 flex-1">${refleksi}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <!-- Lampiran -->
                    <div class="bg-gradient-to-br from-pink-50 to-rose-50 p-6 rounded-2xl border-2 border-pink-200">
                        <h3 class="text-2xl font-bold text-pink-800 mb-6 flex items-center">
                            <span class="bg-pink-500 text-white w-10 h-10 rounded-full flex items-center justify-center text-lg mr-4">üìé</span>
                            Lampiran
                        </h3>
                        <div class="grid md:grid-cols-2 gap-4">
                            ${modulAjar.lampiran.map(lampiran => `
                                <div class="bg-white p-4 rounded-xl border border-pink-200 flex items-center">
                                    <span class="text-pink-500 mr-3 text-lg">üìÑ</span>
                                    <span class="text-gray-800">${lampiran}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="text-center pt-8">
                        <div class="bg-gradient-to-r from-blue-100 to-purple-100 p-6 rounded-2xl">
                            <h4 class="text-xl font-bold text-gray-800 mb-4">üéâ Modul Ajar Siap Digunakan!</h4>
                            <p class="text-gray-600 mb-6">Gunakan tombol di atas untuk mengunduh atau membagikan modul ajar Anda</p>
                            <div class="flex justify-center space-x-4 flex-wrap">
                                <button onclick="window.print()" class="bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-6 py-3 rounded-xl font-bold transition duration-300 mb-2">
                                    üñ®Ô∏è Print Modul
                                </button>
                                <button onclick="shareModule()" class="bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white px-6 py-3 rounded-xl font-bold transition duration-300 mb-2">
                                    üì§ Bagikan
                                </button>
                                <button onclick="saveAsTemplate()" class="bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white px-6 py-3 rounded-xl font-bold transition duration-300 mb-2">
                                    üíæ Simpan Template
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            showAdvancedNotification('üéâ Modul ajar revolusioner berhasil dibuat dengan AI Super Intelligence!', 'success');
        }

        function completeRevolutionaryProcessing() {
            isProcessing = false;
            
            // Update UI
            document.getElementById('btnText').innerHTML = `
                <span class="mr-3 text-2xl">üöÄ</span>
                Generate Modul Ajar dengan AI Super Intelligence
            `;
            document.getElementById('loadingSpinner').classList.add('hidden');
            
            // Update progress indicators
            const indicators = document.querySelectorAll('.step-indicator');
            indicators[2].classList.add('step-completed');
            indicators[2].classList.remove('bg-gray-200', 'text-gray-600');
            indicators[1].classList.remove('step-active', 'ai-processing');
            indicators[1].classList.add('step-completed');
            
            // Show export buttons
            document.getElementById('exportButtons').classList.remove('hidden');
            
            // Update progress bar to 100%
            document.getElementById('progressBar').style.width = '100%';
            document.getElementById('progressText').textContent = 'Modul ajar revolusioner siap digunakan!';
        }

        // Placeholder functions for modal displays
        function showHelpModal() {
            showAdvancedNotification('üÜò Fitur bantuan akan segera hadir dalam update berikutnya!', 'info');
        }

        function showFeedbackModal() {
            showAdvancedNotification('üí¨ Terima kasih! Fitur feedback akan segera tersedia.', 'info');
        }

        function showSettingsModal() {
            showAdvancedNotification('‚öôÔ∏è Pengaturan AI akan tersedia dalam versi mendatang.', 'info');
        }

        function saveAsTemplate() {
            showAdvancedNotification('üíæ Template berhasil disimpan! Fitur load template akan segera hadir.', 'success');
        }

        function shareModule() {
            showAdvancedNotification('üì§ Fitur sharing akan tersedia dalam update berikutnya!', 'info');
        }

        // Enhanced download functions with real functionality
        function downloadAsWord() {
            if (!currentFormData.penyusun) {
                showAdvancedNotification('‚ö†Ô∏è Mohon generate modul ajar terlebih dahulu!', 'warning');
                return;
            }
            
            const modulAjar = createRevolutionaryModulAjar(currentFormData);
            const wordContent = generateWordDocument(modulAjar);
            
            const blob = new Blob([wordContent], {
                type: 'application/msword'
            });
            
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `Modul_Ajar_${modulAjar.identitas.mapel}_${modulAjar.identitas.topik.replace(/\s+/g, '_')}.doc`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showAdvancedNotification('üìÑ Modul ajar berhasil diunduh dalam format Word!', 'success');
        }

        function downloadAsPDF() {
            if (!currentFormData.penyusun) {
                showAdvancedNotification('‚ö†Ô∏è Mohon generate modul ajar terlebih dahulu!', 'warning');
                return;
            }
            
            // Create a clean version for PDF
            const printWindow = window.open('', '_blank');
            const modulAjar = createRevolutionaryModulAjar(currentFormData);
            const pdfContent = generatePDFDocument(modulAjar);
            
            printWindow.document.write(pdfContent);
            printWindow.document.close();
            printWindow.focus();
            
            setTimeout(() => {
                printWindow.print();
                printWindow.close();
            }, 1000);
            
            showAdvancedNotification('üìë Modul ajar siap untuk disimpan sebagai PDF!', 'success');
        }

        function copyToClipboard() {
            if (!currentFormData.penyusun) {
                showAdvancedNotification('‚ö†Ô∏è Mohon generate modul ajar terlebih dahulu!', 'warning');
                return;
            }
            
            const modulAjar = createRevolutionaryModulAjar(currentFormData);
            const textContent = generateTextDocument(modulAjar);
            
            navigator.clipboard.writeText(textContent).then(() => {
                showAdvancedNotification('üìã Modul ajar berhasil disalin ke clipboard!', 'success');
            }).catch(() => {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = textContent;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showAdvancedNotification('üìã Modul ajar berhasil disalin ke clipboard!', 'success');
            });
        }

        function generateWordDocument(modulAjar) {
            return `<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Modul Ajar - ${modulAjar.identitas.mapel}</title>
    <style>
        body { font-family: 'Times New Roman', serif; font-size: 12pt; line-height: 1.5; margin: 1in; }
        .header { text-align: center; margin-bottom: 30px; }
        .title { font-size: 16pt; font-weight: bold; margin-bottom: 10px; }
        .subtitle { font-size: 14pt; margin-bottom: 20px; }
        .section { margin-bottom: 25px; }
        .section-title { font-size: 14pt; font-weight: bold; margin-bottom: 15px; color: #2563eb; border-bottom: 2px solid #2563eb; padding-bottom: 5px; }
        .identity-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
        .identity-table td { padding: 8px; border: 1px solid #ccc; }
        .identity-table .label { font-weight: bold; width: 200px; background-color: #f8f9fa; }
        .learning-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
        .learning-table th, .learning-table td { padding: 12px; border: 1px solid #333; text-align: left; vertical-align: top; }
        .learning-table th { background-color: #2563eb; color: white; font-weight: bold; text-align: center; }
        .learning-table .time-col { width: 15%; text-align: center; font-weight: bold; }
        .learning-table .activity-col { width: 85%; }
        .rubric-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
        .rubric-table th, .rubric-table td { padding: 10px; border: 1px solid #333; text-align: center; vertical-align: top; }
        .rubric-table th { background-color: #059669; color: white; font-weight: bold; }
        .rubric-table .criteria-col { width: 20%; text-align: left; font-weight: bold; }
        .list-item { margin-bottom: 8px; }
        .list-item::before { content: "‚Ä¢ "; font-weight: bold; }
        .question-item { margin-bottom: 10px; padding: 10px; background-color: #f0f9ff; border-left: 4px solid #2563eb; }
        .reflection-item { margin-bottom: 10px; padding: 10px; background-color: #fef3c7; border-left: 4px solid #f59e0b; }
        .page-break { page-break-before: always; }
        .footer { margin-top: 50px; text-align: center; font-size: 10pt; color: #666; border-top: 1px solid #ccc; padding-top: 20px; }
    </style>
</head>
<body>
    <div class="header">
        <div class="title">MODUL AJAR</div>
        <div class="subtitle">${modulAjar.identitas.mapel.toUpperCase()}</div>
        <div class="subtitle">${modulAjar.identitas.topik}</div>
    </div>

    <div class="section">
        <div class="section-title">IDENTITAS MODUL AJAR</div>
        <table class="identity-table">
            <tr><td class="label">Penyusun</td><td>${modulAjar.identitas.penyusun}</td></tr>
            <tr><td class="label">Satuan Pendidikan</td><td>${modulAjar.identitas.satuan}</td></tr>
            <tr><td class="label">Kelas/Fase</td><td>${modulAjar.identitas.kelas}</td></tr>
            <tr><td class="label">Mata Pelajaran</td><td>${modulAjar.identitas.mapel}</td></tr>
            <tr><td class="label">Topik/Elemen</td><td>${modulAjar.identitas.topik}</td></tr>
            <tr><td class="label">Alokasi Waktu</td><td>${modulAjar.identitas.alokasi}</td></tr>
            <tr><td class="label">Tahun Pelajaran</td><td>${modulAjar.identitas.tahun}</td></tr>
            <tr><td class="label">Semester</td><td>Semester ${modulAjar.identitas.semester}</td></tr>
        </table>
    </div>

    <div class="section">
        <div class="section-title">CAPAIAN PEMBELAJARAN</div>
        <p>${modulAjar.identitas.capaian}</p>
    </div>

    <div class="section">
        <div class="section-title">TUJUAN PEMBELAJARAN</div>
        <p>${modulAjar.identitas.tujuan}</p>
    </div>

    <div class="section">
        <div class="section-title">PERTANYAAN PEMANTIK</div>
        ${modulAjar.pertanyaanPemantik.map((question, index) => `
            <div class="question-item">${index + 1}. ${question}</div>
        `).join('')}
    </div>

    <div class="page-break"></div>
    <div class="section">
        <div class="section-title">LANGKAH-LANGKAH PEMBELAJARAN</div>
        <table class="learning-table">
            <thead>
                <tr>
                    <th>TAHAP PEMBELAJARAN</th>
                    <th class="time-col">WAKTU</th>
                    <th class="activity-col">KEGIATAN PEMBELAJARAN</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td rowspan="${modulAjar.langkahPembelajaran.pendahuluan.kegiatan.length}" style="background-color: #dbeafe; font-weight: bold; text-align: center; vertical-align: middle;">PENDAHULUAN</td>
                    <td class="time-col">${modulAjar.langkahPembelajaran.pendahuluan.waktu}</td>
                    <td class="activity-col">
                        ${modulAjar.langkahPembelajaran.pendahuluan.kegiatan.map(kegiatan => `
                            <div class="list-item">${kegiatan.replace(/üéØ|üìã|üß†|üé™|üì¢|üó∫Ô∏è/g, '').trim()}</div>
                        `).join('')}
                    </td>
                </tr>
                <tr>
                    <td rowspan="${Math.ceil(modulAjar.langkahPembelajaran.inti.kegiatan.length / 3)}" style="background-color: #dcfce7; font-weight: bold; text-align: center; vertical-align: middle;">KEGIATAN INTI</td>
                    <td class="time-col">${modulAjar.langkahPembelajaran.inti.waktu}</td>
                    <td class="activity-col">
                        ${modulAjar.langkahPembelajaran.inti.kegiatan.map(kegiatan => {
                            if (kegiatan.startsWith('üîç') || kegiatan.startsWith('üß™') || kegiatan.startsWith('üé®')) {
                                return `<div style="font-weight: bold; margin: 15px 0 10px 0; color: #059669;">${kegiatan.replace(/üîç|üß™|üé®/g, '').trim()}</div>`;
                            } else if (kegiatan === '') {
                                return '<div style="margin: 10px 0;"></div>';
                            } else {
                                return `<div class="list-item">${kegiatan.replace(/‚Ä¢/g, '').trim()}</div>`;
                            }
                        }).join('')}
                    </td>
                </tr>
                <tr>
                    <td rowspan="${modulAjar.langkahPembelajaran.penutup.kegiatan.length}" style="background-color: #fef3c7; font-weight: bold; text-align: center; vertical-align: middle;">PENUTUP</td>
                    <td class="time-col">${modulAjar.langkahPembelajaran.penutup.waktu}</td>
                    <td class="activity-col">
                        ${modulAjar.langkahPembelajaran.penutup.kegiatan.map(kegiatan => `
                            <div class="list-item">${kegiatan.replace(/üìù|üéØ|üìö|üìÖ|ü§≤/g, '').trim()}</div>
                        `).join('')}
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="page-break"></div>
    <div class="section">
        <div class="section-title">ASESMEN PEMBELAJARAN</div>
        
        <h4 style="color: #2563eb; margin-bottom: 10px;">Asesmen Formatif:</h4>
        ${modulAjar.asesmen.formatif.map(item => `<div class="list-item">${item.replace(/üìä|‚ùì|üìù|üéØ|üë•/g, '').trim()}</div>`).join('')}
        
        <h4 style="color: #059669; margin: 20px 0 10px 0;">Asesmen Sumatif:</h4>
        ${modulAjar.asesmen.sumatif.map(item => `<div class="list-item">${item.replace(/üìã|üé®|üó£Ô∏è|üì±|üî¨/g, '').trim()}</div>`).join('')}
        
        <h4 style="color: #7c3aed; margin: 20px 0 10px 0;">Asesmen Autentik:</h4>
        ${modulAjar.asesmen.autentik.map(item => `<div class="list-item">${item.replace(/üåç|üìä|üé≠|üìù|ü§ù/g, '').trim()}</div>`).join('')}
    </div>

    <div class="section">
        <div class="section-title">RUBRIK PENILAIAN</div>
        <table class="rubric-table">
            <thead>
                <tr>
                    <th class="criteria-col">KRITERIA</th>
                    <th>SANGAT BAIK (4)</th>
                    <th>BAIK (3)</th>
                    <th>CUKUP (2)</th>
                    <th>PERLU BIMBINGAN (1)</th>
                </tr>
            </thead>
            <tbody>
                ${modulAjar.rubrikPenilaian.aspek.map(aspek => `
                    <tr>
                        <td class="criteria-col">${aspek.kriteria}</td>
                        <td>${aspek.sangat_baik}</td>
                        <td>${aspek.baik}</td>
                        <td>${aspek.cukup}</td>
                        <td>${aspek.perlu_bimbingan}</td>
                    </tr>
                `).join('')}
            </tbody>
        </table>
    </div>

    <div class="page-break"></div>
    <div class="section">
        <div class="section-title">STRATEGI PEMBELAJARAN BERDIFERENSIASI</div>
        
        <h4 style="color: #2563eb; margin-bottom: 10px;">Diferensiasi Konten:</h4>
        ${modulAjar.diferensiasi.konten.map(item => `<div class="list-item">${item.replace(/üìö|üé®|üåê|üîç/g, '').trim()}</div>`).join('')}
        
        <h4 style="color: #059669; margin: 20px 0 10px 0;">Diferensiasi Proses:</h4>
        ${modulAjar.diferensiasi.proses.map(item => `<div class="list-item">${item.replace(/üë•|‚è∞|üéØ|ü§ù/g, '').trim()}</div>`).join('')}
        
        <h4 style="color: #7c3aed; margin: 20px 0 10px 0;">Diferensiasi Produk:</h4>
        ${modulAjar.diferensiasi.produk.map(item => `<div class="list-item">${item.replace(/üé®|üìä|üé™|üì±/g, '').trim()}</div>`).join('')}
    </div>

    <div class="section">
        <div class="section-title">PROGRAM REMEDIAL DAN PENGAYAAN</div>
        
        <h4 style="color: #ea580c; margin-bottom: 10px;">Program Remedial:</h4>
        ${modulAjar.remedialPengayaan.remedial.map(item => `<div class="list-item">${item.replace(/üîÑ|üë•|üì±|üéØ|ü§ù/g, '').trim()}</div>`).join('')}
        
        <h4 style="color: #059669; margin: 20px 0 10px 0;">Program Pengayaan:</h4>
        ${modulAjar.remedialPengayaan.pengayaan.map(item => `<div class="list-item">${item.replace(/üöÄ|üåü|üìö|üèÜ|üí°/g, '').trim()}</div>`).join('')}
    </div>

    <div class="section">
        <div class="section-title">REFLEKSI GURU</div>
        ${modulAjar.refleksiGuru.map((refleksi, index) => `
            <div class="reflection-item">${index + 1}. ${refleksi.replace(/üìä|üéØ|üîß|‚è∞|üí°|ü§ù|üì±/g, '').trim()}</div>
        `).join('')}
    </div>

    <div class="section">
        <div class="section-title">LAMPIRAN</div>
        ${modulAjar.lampiran.map(lampiran => `<div class="list-item">${lampiran.replace(/üìã|üìä|üé®|üì±|üìö|üéØ|üìù/g, '').trim()}</div>`).join('')}
    </div>

    <div class="footer">
        <p><strong>¬© 2025 Dashboard Pembuat Modul Ajar AI Edisi Guru Inovasi - Ian Dwi Putera, S.Pd</strong></p>
        <p>Dibuat dengan teknologi AI Super Intelligence untuk kemajuan pendidikan Indonesia</p>
        <p>Dokumen ini dapat diedit dan disesuaikan dengan kondisi siswa dan sekolah masing-masing</p>
    </div>
</body>
</html>`;
        }

        function generatePDFDocument(modulAjar) {
            return `
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Modul Ajar - ${modulAjar.identitas.mapel}</title>
    <style>
        @media print {
            body { margin: 0; }
            .page-break { page-break-before: always; }
        }
        body { font-family: 'Times New Roman', serif; font-size: 11pt; line-height: 1.4; margin: 20px; }
        .header { text-align: center; margin-bottom: 25px; }
        .title { font-size: 18pt; font-weight: bold; margin-bottom: 8px; }
        .subtitle { font-size: 14pt; margin-bottom: 15px; }
        .section { margin-bottom: 20px; }
        .section-title { font-size: 13pt; font-weight: bold; margin-bottom: 12px; color: #1e40af; border-bottom: 2px solid #1e40af; padding-bottom: 3px; }
        .identity-table { width: 100%; border-collapse: collapse; margin-bottom: 15px; }
        .identity-table td { padding: 6px; border: 1px solid #666; font-size: 10pt; }
        .identity-table .label { font-weight: bold; width: 180px; background-color: #f3f4f6; }
        .learning-table { width: 100%; border-collapse: collapse; margin-bottom: 15px; }
        .learning-table th, .learning-table td { padding: 8px; border: 1px solid #333; text-align: left; vertical-align: top; font-size: 10pt; }
        .learning-table th { background-color: #1e40af; color: white; font-weight: bold; text-align: center; }
        .learning-table .time-col { width: 12%; text-align: center; font-weight: bold; }
        .learning-table .stage-col { width: 18%; text-align: center; font-weight: bold; }
        .learning-table .activity-col { width: 70%; }
        .rubric-table { width: 100%; border-collapse: collapse; margin-bottom: 15px; }
        .rubric-table th, .rubric-table td { padding: 6px; border: 1px solid #333; text-align: center; vertical-align: top; font-size: 9pt; }
        .rubric-table th { background-color: #059669; color: white; font-weight: bold; }
        .rubric-table .criteria-col { width: 18%; text-align: left; font-weight: bold; }
        .list-item { margin-bottom: 5px; font-size: 10pt; }
        .list-item::before { content: "‚Ä¢ "; font-weight: bold; }
        .question-item { margin-bottom: 8px; padding: 8px; background-color: #eff6ff; border-left: 3px solid #1e40af; font-size: 10pt; }
        .reflection-item { margin-bottom: 8px; padding: 8px; background-color: #fefce8; border-left: 3px solid #eab308; font-size: 10pt; }
        .footer { margin-top: 30px; text-align: center; font-size: 9pt; color: #666; border-top: 1px solid #ccc; padding-top: 15px; }
    </style>
</head>
<body>
    ${generateWordDocument(modulAjar).replace(/<head>[\s\S]*?<\/head>/, '').replace(/<\/html>/, '').replace(/<html>/, '')}
</body>
</html>`;
        }

        function generateTextDocument(modulAjar) {
            return `
MODUL AJAR
${modulAjar.identitas.mapel.toUpperCase()}
${modulAjar.identitas.topik}

=====================================
IDENTITAS MODUL AJAR
=====================================

Penyusun           : ${modulAjar.identitas.penyusun}
Satuan Pendidikan  : ${modulAjar.identitas.satuan}
Kelas/Fase         : ${modulAjar.identitas.kelas}
Mata Pelajaran     : ${modulAjar.identitas.mapel}
Topik/Elemen       : ${modulAjar.identitas.topik}
Alokasi Waktu      : ${modulAjar.identitas.alokasi}
Tahun Pelajaran    : ${modulAjar.identitas.tahun}
Semester           : Semester ${modulAjar.identitas.semester}

=====================================
CAPAIAN PEMBELAJARAN
=====================================

${modulAjar.identitas.capaian}

=====================================
TUJUAN PEMBELAJARAN
=====================================

${modulAjar.identitas.tujuan}

=====================================
PERTANYAAN PEMANTIK
=====================================

${modulAjar.pertanyaanPemantik.map((question, index) => `${index + 1}. ${question}`).join('\n')}

=====================================
LANGKAH-LANGKAH PEMBELAJARAN
=====================================

PENDAHULUAN (${modulAjar.langkahPembelajaran.pendahuluan.waktu})
${modulAjar.langkahPembelajaran.pendahuluan.kegiatan.map(kegiatan => `‚Ä¢ ${kegiatan.replace(/üéØ|üìã|üß†|üé™|üì¢|üó∫Ô∏è/g, '').trim()}`).join('\n')}

KEGIATAN INTI (${modulAjar.langkahPembelajaran.inti.waktu})
${modulAjar.langkahPembelajaran.inti.kegiatan.map(kegiatan => {
    if (kegiatan.startsWith('üîç') || kegiatan.startsWith('üß™') || kegiatan.startsWith('üé®')) {
        return `\n${kegiatan.replace(/üîç|üß™|üé®/g, '').trim()}\n`;
    } else if (kegiatan === '') {
        return '';
    } else {
        return `‚Ä¢ ${kegiatan.replace(/‚Ä¢/g, '').trim()}`;
    }
}).join('\n')}

PENUTUP (${modulAjar.langkahPembelajaran.penutup.waktu})
${modulAjar.langkahPembelajaran.penutup.kegiatan.map(kegiatan => `‚Ä¢ ${kegiatan.replace(/üìù|üéØ|üìö|üìÖ|ü§≤/g, '').trim()}`).join('\n')}

=====================================
ASESMEN PEMBELAJARAN
=====================================

ASESMEN FORMATIF:
${modulAjar.asesmen.formatif.map(item => `‚Ä¢ ${item.replace(/üìä|‚ùì|üìù|üéØ|üë•/g, '').trim()}`).join('\n')}

ASESMEN SUMATIF:
${modulAjar.asesmen.sumatif.map(item => `‚Ä¢ ${item.replace(/üìã|üé®|üó£Ô∏è|üì±|üî¨/g, '').trim()}`).join('\n')}

ASESMEN AUTENTIK:
${modulAjar.asesmen.autentik.map(item => `‚Ä¢ ${item.replace(/üåç|üìä|üé≠|üìù|ü§ù/g, '').trim()}`).join('\n')}

=====================================
RUBRIK PENILAIAN
=====================================

${modulAjar.rubrikPenilaian.aspek.map(aspek => `
KRITERIA: ${aspek.kriteria}
- Sangat Baik (4): ${aspek.sangat_baik}
- Baik (3): ${aspek.baik}
- Cukup (2): ${aspek.cukup}
- Perlu Bimbingan (1): ${aspek.perlu_bimbingan}
`).join('\n')}

=====================================
STRATEGI PEMBELAJARAN BERDIFERENSIASI
=====================================

DIFERENSIASI KONTEN:
${modulAjar.diferensiasi.konten.map(item => `‚Ä¢ ${item.replace(/üìö|üé®|üåê|üîç/g, '').trim()}`).join('\n')}

DIFERENSIASI PROSES:
${modulAjar.diferensiasi.proses.map(item => `‚Ä¢ ${item.replace(/üë•|‚è∞|üéØ|ü§ù/g, '').trim()}`).join('\n')}

DIFERENSIASI PRODUK:
${modulAjar.diferensiasi.produk.map(item => `‚Ä¢ ${item.replace(/üé®|üìä|üé™|üì±/g, '').trim()}`).join('\n')}

=====================================
PROGRAM REMEDIAL DAN PENGAYAAN
=====================================

PROGRAM REMEDIAL:
${modulAjar.remedialPengayaan.remedial.map(item => `‚Ä¢ ${item.replace(/üîÑ|üë•|üì±|üéØ|ü§ù/g, '').trim()}`).join('\n')}

PROGRAM PENGAYAAN:
${modulAjar.remedialPengayaan.pengayaan.map(item => `‚Ä¢ ${item.replace(/üöÄ|üåü|üìö|üèÜ|üí°/g, '').trim()}`).join('\n')}

=====================================
REFLEKSI GURU
=====================================

${modulAjar.refleksiGuru.map((refleksi, index) => `${index + 1}. ${refleksi.replace(/üìä|üéØ|üîß|‚è∞|üí°|ü§ù|üì±/g, '').trim()}`).join('\n')}

=====================================
LAMPIRAN
=====================================

${modulAjar.lampiran.map(lampiran => `‚Ä¢ ${lampiran.replace(/üìã|üìä|üé®|üì±|üìö|üéØ|üìù/g, '').trim()}`).join('\n')}

=====================================
¬© 2025 Dashboard Pembuat Modul Ajar AI Edisi Guru Inovasi - Ian Dwi Putera, S.Pd
Dibuat dengan teknologi AI Super Intelligence untuk kemajuan pendidikan Indonesia
Dokumen ini dapat diedit dan disesuaikan dengan kondisi siswa dan sekolah masing-masing
=====================================
`;
        }

        // Initialize the application
        updateAdvancedProgress();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'992855268251f875',t:'MTc2MTEyOTE2Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
